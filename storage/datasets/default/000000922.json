{
	"title": "Vearch | ü¶úÔ∏èüîó Langchain",
	"url": "https://python.langchain.com/docs/integrations/vectorstores/vearch",
	"html": "ComponentsVector storesVearch\nVearch\n\nVearch is the vector search infrastructure for deeping learning and AI applications.\n\nSetting up‚Äã\n\nFollow instructions.\n\npip install vearch\n\n# OR\npip install vearch_cluster\n\nExample‚Äã\nfrom langchain.document_loaders import TextLoader\nfrom langchain.embeddings.huggingface import HuggingFaceEmbeddings\nfrom langchain.text_splitter import RecursiveCharacterTextSplitter\nfrom langchain.vectorstores.vearch import Vearch\nfrom transformers import AutoModel, AutoTokenizer\n\n# repalce to your local model path\nmodel_path = \"/data/zhx/zhx/langchain-ChatGLM_new/chatglm2-6b\"\n\ntokenizer = AutoTokenizer.from_pretrained(model_path, trust_remote_code=True)\nmodel = AutoModel.from_pretrained(model_path, trust_remote_code=True).half().cuda(0)\n\n    /export/anaconda3/envs/vearch_cluster_langchain/lib/python3.10/site-packages/tqdm/auto.py:21: TqdmWarning: IProgress not found. Please update jupyter and ipywidgets. See https://ipywidgets.readthedocs.io/en/stable/user_install.html\n      from .autonotebook import tqdm as notebook_tqdm\n    Loading checkpoint shards: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 7/7 [00:07<00:00,  1.01s/it]\n\nquery = \"‰Ω†Â•Ω!\"\nresponse, history = model.chat(tokenizer, query, history=[])\nprint(f\"Human: {query}\\nChatGLM:{response}\\n\")\nquery = \"‰Ω†Áü•ÈÅìÂáåÊ≥¢ÂæÆÊ≠•ÂêóÔºå‰Ω†Áü•ÈÅìÈÉΩÊúâË∞ÅÂ≠¶‰ºö‰∫ÜÂêó?\"\nresponse, history = model.chat(tokenizer, query, history=history)\nprint(f\"Human: {query}\\nChatGLM:{response}\\n\")\n\n    Human: ‰Ω†Â•Ω!\n    ChatGLM:‰Ω†Â•ΩüëãÔºÅÊàëÊòØ‰∫∫Â∑•Êô∫ËÉΩÂä©Êâã ChatGLM2-6BÔºåÂæàÈ´òÂÖ¥ËßÅÂà∞‰Ω†ÔºåÊ¨¢ËøéÈóÆÊàë‰ªª‰ΩïÈóÆÈ¢ò„ÄÇ\n    \n    Human: ‰Ω†Áü•ÈÅìÂáåÊ≥¢ÂæÆÊ≠•ÂêóÔºå‰Ω†Áü•ÈÅìÈÉΩÊúâË∞ÅÂ≠¶‰ºö‰∫ÜÂêó?\n    ChatGLM:ÂáåÊ≥¢ÂæÆÊ≠•ÊòØ‰∏ÄÁßçÊ≠•‰ºêÔºåÊúÄÊó©Âá∫Ëá™„ÄäÂÄöÂ§©Â±†ÈæôËÆ∞„Äã„ÄÇÂú®ÁîµËßÜÂâß„Ää‰∫∫Ê∞ëÁöÑÂêç‰πâ„Äã‰∏≠Ôºå‰æØ‰∫ÆÂπ≥‰πüÂ≠¶‰ºö‰∫ÜÂáåÊ≥¢ÂæÆÊ≠•„ÄÇ\n    \n\n# Add your local knowledge files\nfile_path = \"/data/zhx/zhx/langchain-ChatGLM_new/knowledge_base/Â§©ÈæôÂÖ´ÈÉ®/lingboweibu.txt\"  # Your local file path\"\nloader = TextLoader(file_path, encoding=\"utf-8\")\ndocuments = loader.load()\n\n# split text into sentences and embedding the sentences\ntext_splitter = RecursiveCharacterTextSplitter(chunk_size=500, chunk_overlap=100)\ntexts = text_splitter.split_documents(documents)\n\n# replace to your model path\nembedding_path = \"/data/zhx/zhx/langchain-ChatGLM_new/text2vec/text2vec-large-chinese\"\nembeddings = HuggingFaceEmbeddings(model_name=embedding_path)\n\n    No sentence-transformers model found with name /data/zhx/zhx/langchain-ChatGLM_new/text2vec/text2vec-large-chinese. Creating a new one with MEAN pooling.\n\n# first add your document into vearch vectorstore\nvearch_standalone = Vearch.from_documents(\n    texts,\n    embeddings,\n    path_or_url=\"/data/zhx/zhx/langchain-ChatGLM_new/knowledge_base/localdb_new_test\",\n    table_name=\"localdb_new_test\",\n    flag=0,\n)\n\nprint(\"***************after is cluster res*****************\")\n\nvearch_cluster = Vearch.from_documents(\n    texts,\n    embeddings,\n    path_or_url=\"http://test-vearch-langchain-router.vectorbase.svc.ht1.n.jd.local\",\n    db_name=\"vearch_cluster_langchian\",\n    table_name=\"tobenumone\",\n    flag=1,\n)\n\n    docids ['18ce6747dca04a2c833e60e8dfd83c04', 'aafacb0e46574b378a9f433877ab06a8', '9776bccfdd8643a8b219ccee0596f370']\n    ***************after is cluster res*****************\n    docids ['1841638988191686991', '-4519586577642625749', '5028230008472292907']\n\nquery = \"‰Ω†Áü•ÈÅìÂáåÊ≥¢ÂæÆÊ≠•ÂêóÔºå‰Ω†Áü•ÈÅìÈÉΩÊúâË∞Å‰ºöÂáåÊ≥¢ÂæÆÊ≠•?\"\nvearch_standalone_res = vearch_standalone.similarity_search(query, 3)\nfor idx, tmp in enumerate(vearch_standalone_res):\n    print(f\"{'#'*20}Á¨¨{idx+1}ÊÆµÁõ∏ÂÖ≥ÊñáÊ°£{'#'*20}\\n\\n{tmp.page_content}\\n\")\n\n# combine your local knowleadge and query\ncontext = \"\".join([tmp.page_content for tmp in vearch_standalone_res])\nnew_query = f\"Âü∫‰∫é‰ª•‰∏ã‰ø°ÊÅØÔºåÂ∞ΩÂèØËÉΩÂáÜÁ°ÆÁöÑÊù•ÂõûÁ≠îÁî®Êà∑ÁöÑÈóÆÈ¢ò„ÄÇËÉåÊôØ‰ø°ÊÅØ:\\n {context} \\n ÂõûÁ≠îÁî®Êà∑Ëøô‰∏™ÈóÆÈ¢ò:{query}\\n\\n\"\nresponse, history = model.chat(tokenizer, new_query, history=[])\nprint(f\"********ChatGLM:{response}\\n\")\n\nprint(\"***************************after is cluster res******************************\")\n\nquery_c = \"‰Ω†Áü•ÈÅìÂáåÊ≥¢ÂæÆÊ≠•ÂêóÔºå‰Ω†Áü•ÈÅìÈÉΩÊúâË∞Å‰ºöÂáåÊ≥¢ÂæÆÊ≠•?\"\ncluster_res = vearch_cluster.similarity_search(query_c, 3)\nfor idx, tmp in enumerate(cluster_res):\n    print(f\"{'#'*20}Á¨¨{idx+1}ÊÆµÁõ∏ÂÖ≥ÊñáÊ°£{'#'*20}\\n\\n{tmp.page_content}\\n\")\n\n# combine your local knowleadge and query\ncontext_c = \"\".join([tmp.page_content for tmp in cluster_res])\nnew_query_c = f\"Âü∫‰∫é‰ª•‰∏ã‰ø°ÊÅØÔºåÂ∞ΩÂèØËÉΩÂáÜÁ°ÆÁöÑÊù•ÂõûÁ≠îÁî®Êà∑ÁöÑÈóÆÈ¢ò„ÄÇËÉåÊôØ‰ø°ÊÅØ:\\n {context_c} \\n ÂõûÁ≠îÁî®Êà∑Ëøô‰∏™ÈóÆÈ¢ò:{query_c}\\n\\n\"\nresponse_c, history_c = model.chat(tokenizer, new_query_c, history=[])\nprint(f\"********ChatGLM:{response_c}\\n\")\n\n    ####################Á¨¨1ÊÆµÁõ∏ÂÖ≥ÊñáÊ°£####################\n    \n    ÂçàÈ•≠ËøáÂêéÔºåÊÆµË™âÂèàÁªÉ‚ÄúÂáåÊ≥¢ÂæÆÊ≠•‚ÄùÔºåËµ∞‰∏ÄÊ≠•ÔºåÂê∏‰∏ÄÂè£Ê∞îÔºåËµ∞Á¨¨‰∫åÊ≠•Êó∂Â∞ÜÊ∞îÂëºÂá∫ÔºåÂÖ≠ÂçÅÂõõÂç¶Ëµ∞ÂÆåÔºåÂõõËÇ¢ÂÖ®Êó†È∫ªÁóπ‰πãÊÑüÔºåÊñôÊÉ≥ÂëºÂê∏È°∫ÁïÖÔºå‰æøÊó†ÂÆ≥Â§Ñ„ÄÇÁ¨¨‰∫åÊ¨°ÂÜçËµ∞Êó∂ËøûËµ∞‰∏§Ê≠•Âê∏‰∏ÄÂè£Ê∞îÔºåÂÜçËµ∞‰∏§Ê≠•ÂßãË°åÂëºÂá∫„ÄÇËøô‚ÄúÂáåÊ≥¢ÂæÆÊ≠•‚ÄùÊòØ‰ª•Âä®Âäü‰øÆ‰π†ÂÜÖÂäüÔºåËÑöÊ≠•Ë∏èÈÅçÂÖ≠ÂçÅÂõõÂç¶‰∏Ä‰∏™Âë®Â§©ÔºåÂÜÖÊÅØËá™ÁÑ∂ËÄåÁÑ∂Âú∞‰πüËΩ¨‰∫Ü‰∏Ä‰∏™Âë®Â§©„ÄÇÂõ†Ê≠§‰ªñÊØèËµ∞‰∏ÄÈÅçÔºåÂÜÖÂäõ‰æøÊúâ‰∏ÄÂàÜËøõÁõä„ÄÇ\n    \n    ËøôËà¨ÁªÉ‰∫ÜÂá†Â§©Ôºå‚ÄúÂáåÊ≥¢ÂæÆÊ≠•‚ÄùÂ∑≤Ëµ∞ÂæóÈ¢á‰∏∫Á∫ØÁÜüÔºå‰∏çÈ°ªÂÜçÊï∞ÂëºÂê∏ÔºåÁ∫µÁÑ∂ÁñæË°åÔºåÊ∞îÊÅØ‰πüÂ∑≤Êó†ÊâÄÁ™íÊªû„ÄÇÂøÉÊÑèÊó¢ÁïÖÔºåË∑®Ê≠•Êó∂Ê∏êÊ∏êÊÉ≥Âà∞„ÄäÊ¥õÁ•ûËµã„Äã‰∏≠ÈÇ£‰∫õ‰∏é‚ÄúÂáåÊ≥¢ÂæÆÊ≠•‚ÄùÊúâÂÖ≥ÁöÑÂè•Â≠êÔºö‚Äú‰ªø‰ΩõÂÖÆËã•ËΩª‰∫ë‰πãËîΩÊúàÔºåÈ£òÈ£òÂÖÆËã•ÊµÅÈ£é‰πãÂõûÈõ™‚ÄùÔºå‚ÄúÁ´¶ËΩªË∫Ø‰ª•Èπ§Á´ãÔºåËã•Â∞ÜÈ£ûËÄåÊú™Áøî‚ÄùÔºå‚Äú‰ΩìËøÖÈ£ûÂá´ÔºåÈ£òÂøΩËã•Á•û‚ÄùÔºå‚ÄúÂä®Êó†Â∏∏ÂàôÔºåËã•Âç±Ëã•ÂÆâ„ÄÇËøõÊ≠¢ÈöæÊúüÔºåËã•ÂæÄËã•Ëøò‚Äù„ÄÇ\n    \n    \n    \n    ÁôæÂ∫¶ÁÆÄ‰ªã\n    \n    ÂáåÊ≥¢ÂæÆÊ≠•ÊòØ„ÄåÈÄçÈÅ•Ê¥æ„ÄçÁã¨Èó®ËΩªÂäüË∫´Ê≥ïÔºåÁ≤æÂ¶ôÂºÇÂ∏∏„ÄÇ\n    \n    ÂáåÊ≥¢ÂæÆÊ≠•‰πÉÊòØ‰∏ÄÈó®ÊûÅ‰∏ä‰πòÁöÑËΩªÂäüÔºåÊâÄ‰ª•Âàó‰∫éÂç∑ËΩ¥‰πãÊú´Ôºå‰ª•ÊòìÁªèÂÖ´ÂÖ´ÂÖ≠ÂçÅÂõõÂç¶‰∏∫Âü∫Á°ÄÔºå‰ΩøÁî®ËÄÖÊåâÁâπÂÆöÈ°∫Â∫èË∏èÁùÄÂç¶Ë±°Êñπ‰ΩçË°åËøõÔºå‰ªéÁ¨¨‰∏ÄÊ≠•Âà∞ÊúÄÂêé‰∏ÄÊ≠•Ê≠£Â•ΩË°åËµ∞‰∏Ä‰∏™Â§ßÂúà„ÄÇÊ≠§Ê≠•Ê≥ïÁ≤æÂ¶ôÂºÇÂ∏∏ÔºåÂéüÊòØË¶ÅÂæÖ‰∫∫ÁªÉÊàê„ÄåÂåóÂÜ•Á•ûÂäü„ÄçÔºåÂê∏‰∫∫ÂÜÖÂäõÔºåËá™Ë∫´ÂÜÖÂäõÂ∑≤„ÄêÈ¢á‰∏∫Ê∑±Âéö„Äë‰πãÂêéÂÜçÁªÉ„ÄÇ\n    \n    ####################Á¨¨2ÊÆµÁõ∏ÂÖ≥ÊñáÊ°£####################\n    \n    „ÄäÂ§©ÈæôÂÖ´ÈÉ®„ÄãÁ¨¨‰∫îÂõû ÂæÆÊ≠•Á∏†Á∫πÁîü\n    \n    Âç∑ËΩ¥‰∏≠Ê≠§Â§ñËØ∏ÁßçÁªèËÑâ‰øÆ‰π†‰πãÊ≥ïÁîöÂ§öÔºåÁöÜÊòØÂèñ‰∫∫ÂÜÖÂäõÁöÑÊ≥ïÈó®ÔºåÊÆµË™âËôΩËá™ËØ≠ÂÆΩËß£ÔºåÊÄªËßâ‰π†‰πãÊúâËøùÊú¨ÊÄßÔºåÂçïÊòØË¥™Â§öÂä°ÂæóÔºå‰æøÈùûÂ•Ω‰∫ãÔºåÂΩì‰∏ãÊöÇ‰∏çÁêÜ‰ºö„ÄÇ\n    \n    Âç∑Âà∞Âç∑ËΩ¥Êú´Á´ØÔºåÂèàËßÅÂà∞‰∫Ü‚ÄúÂáåÊ≥¢ÂæÆÊ≠•‚ÄùÈÇ£ÂõõÂ≠óÔºåÁôªÊó∂‰æøÊÉ≥Ëµ∑„ÄäÊ¥õÁ•ûËµã„Äã‰∏≠ÈÇ£‰∫õÂè•Â≠êÊù•Ôºö‚ÄúÂáåÊ≥¢ÂæÆÊ≠•ÔºåÁΩóË¢úÁîüÂ∞ò‚Ä¶‚Ä¶ËΩ¨ÁúÑÊµÅÁ≤æÔºåÂÖâÊ∂¶ÁéâÈ¢ú„ÄÇÂê´ËæûÊú™ÂêêÔºåÊ∞îËã•ÂπΩÂÖ∞„ÄÇÂçéÂÆπÂ©ÄÂ®úÔºå‰ª§ÊàëÂøòÈ§ê„ÄÇ‚ÄùÊõπÂ≠êÂª∫ÈÇ£‰∫õÂçÉÂè§ÂêçÂè•ÔºåÂú®ËÑëÊµ∑‰∏≠ÁºìÁºìÊµÅËøáÔºö‚ÄúÁßæÁ∫§ÂæóË°∑Ôºå‰øÆÁü≠ÂêàÂ∫¶ÔºåËÇ©Ëã•ÂâäÊàêÔºåËÖ∞Â¶ÇÁ∫¶Á¥†„ÄÇÂª∂È¢àÁßÄÈ°πÔºåÁöìË¥®ÂëàÈú≤„ÄÇËä≥Ê≥ΩÊó†Âä†ÔºåÈìÖÂçéÂºóÂæ°„ÄÇ‰∫ëÈ´ªÂ≥®Â≥®Ôºå‰øÆÁúâËøûÂ®ü„ÄÇ‰∏πÂîáÂ§ñÊúóÔºåÁöìÈΩøÂÜÖÈ≤ú„ÄÇÊòéÁú∏ÂñÑÁùêÔºåÈù•ËæÖÊâøÊùÉ„ÄÇÁë∞ÂßøËâ≥ÈÄ∏Ôºå‰ª™Èùô‰ΩìÈó≤„ÄÇÊüîÊÉÖÁª∞ÊÄÅÔºåÂ™ö‰∫éËØ≠Ë®Ä‚Ä¶‚Ä¶‚ÄùËøô‰∫õÂè•Â≠êÁî®Âú®Êú®Â©âÊ∏ÖË∫´‰∏äÔºå‚ÄúËøôËØùÂÄí‰πüÊúâÁêÜ‚ÄùÔºõ‰ΩÜÂ¶ÇÁî®‰πã‰∫éÁ•û‰ªôÂßäÂßäÔºåÂè™ÊÄïÊõ¥‰∏∫ÈÄÇÂêà„ÄÇÊÉ≥Âà∞Á•û‰ªôÂßäÂßäÁöÑÂßøÂÆπ‰ΩìÊÄÅÔºå‚ÄúÁöéËã•Â§™Èò≥ÂçáÊúùÈúûÔºåÁÅºËã•ËäôËìâÂá∫ÁªøÊ≥¢‚ÄùÔºå‰ΩÜËßâ‰æùÂ•πÂê©ÂíêË°å‰∫ãÔºåÂÆû‰∏∫‰∫∫ÁîüËá≥‰πêÔºåÂøÉÊÉ≥Ôºö‚ÄúÊàëÂÖàÊù•ÁªÉËøô‚ÄòÂáåÊ≥¢ÂæÆÊ≠•‚ÄôÔºåÊ≠§‰πÉÈÄÉÂëΩ‰πãÂ¶ôÊ≥ïÔºåÈùûÂÆ≥‰∫∫‰πãÊâãÊÆµ‰πüÔºåÁªÉ‰πãÊúâÁôæÂà©ËÄåÊó†‰∏ÄÂÆ≥„ÄÇ‚Äù\n    \n    ####################Á¨¨3ÊÆµÁõ∏ÂÖ≥ÊñáÊ°£####################\n    \n    „ÄäÂ§©ÈæôÂÖ´ÈÉ®„ÄãÁ¨¨‰∫åÂõû ÁéâÂ£ÅÊúàÂçéÊòé\n    \n    ÂÜçÂ±ïÂ∏õÂç∑ÔºåÈïøÂç∑‰∏äÊ∫êÊ∫êÁöÜÊòØË£∏Â•≥ÁîªÂÉèÔºåÊàñÁ´ãÊàñÂçßÔºåÊàñÁé∞ÂâçËÉ∏ÔºåÊàñËßÅÂêéËÉå„ÄÇ‰∫∫ÂÉèÁöÑÈù¢ÂÆπÈÉΩÊòØ‰∏ÄËà¨Ôºå‰ΩÜÊàñÂñúÊàñÊÑÅÔºåÊàñÂê´ÊÉÖÂáùÁú∏ÔºåÊàñËΩªÂóîËñÑÊÄíÔºåÁ•ûÊÉÖÂêÑÂºÇ„ÄÇ‰∏ÄÂÖ±Êúâ‰∏âÂçÅÂÖ≠ÂπÖÂõæÂÉèÔºåÊØèÂπÖÂÉè‰∏äÂùáÊúâÈ¢úËâ≤ÁªÜÁ∫øÔºåÊ≥®ÊòéÁ©¥ÈÅìÈÉ®‰ΩçÂèäÁªÉÂäüÊ≥ïËØÄ„ÄÇ\n    \n    Â∏õÂç∑Â∞ΩÂ§ÑÈ¢òÁùÄ‚ÄúÂáåÊ≥¢ÂæÆÊ≠•‚ÄùÂõõÂ≠óÔºåÂÖ∂ÂêéÁªòÁöÑÊòØÊó†Êï∞Ë∂≥Âç∞ÔºåÊ≥®Êòé‚ÄúÂ¶áÂ¶π‚Äù„ÄÅ‚ÄúÊó†Â¶Ñ‚ÄùÁ≠âÁ≠âÂ≠óÊ†∑ÔºåÂ∞ΩÊòØ„ÄäÊòìÁªè„Äã‰∏≠ÁöÑÊñπ‰Ωç„ÄÇÊÆµË™âÂâçÂá†Êó•ËøòÊ≠£ÂÖ®ÂøÉÂÖ®ÊÑèÂú∞ÈíªÁ†î„ÄäÊòìÁªè„ÄãÔºå‰∏ÄËßÅÂà∞Ëøô‰∫õÂêçÁß∞ÔºåÁôªÊó∂Á≤æÁ•ûÂ§ßÊåØÔºå‰æø‰ººÈÅáÂà∞ÊïÖ‰∫§ËâØÂèã‰∏ÄËà¨„ÄÇÂè™ËßÅË∂≥Âç∞ÂØÜÂØÜÈ∫ªÈ∫ªÔºå‰∏çÁü•ÊúâÂá†ÂçÉÁôæ‰∏™ÔºåËá™‰∏Ä‰∏™Ë∂≥Âç∞Ëá≥Âè¶‰∏Ä‰∏™Ë∂≥Âç∞ÂùáÊúâÁªøÁ∫øË¥Ø‰∏≤ÔºåÁ∫ø‰∏äÁªòÊúâÁÆ≠Â§¥ÔºåÊúÄÂêéÂÜôÁùÄ‰∏ÄË°åÂ≠óÈÅìÔºö‚ÄúÊ≠•Ê≥ïÁ•ûÂ¶ôÔºå‰øùË∫´ÈÅøÊïåÔºåÂæÖÁßØÂÜÖÂäõÔºåÂÜçÂèñÊïåÂëΩ„ÄÇ‚Äù\n    \n    ÊÆµË™âÂøÉÈÅìÔºö‚ÄúÁ•û‰ªôÂßäÂßäÊâÄÈÅóÁöÑÊ≠•Ê≥ïÔºåÂøÖÂÆöÁ≤æÂ¶ô‰πãÊûÅÔºåÈÅáÂà∞Âº∫ÊïåÊó∂ËÑ±Ë∫´ÈÄÉËµ∞ÔºåÈÇ£Â∞±ÂæàÂ•ΩÔºå‚ÄòÂÜçÂèñÊïåÂëΩ‚Äô‰πüÂ∞±‰∏çÂøÖ‰∫Ü„ÄÇ‚Äù\n    Âç∑Â•ΩÂ∏õÂç∑ÔºåÂØπ‰πã‰Ωú‰∫Ü‰∏§‰∏™ÊèñÔºåÁèçËÄåÈáç‰πãÂú∞Êè£ÂÖ•ÊÄÄ‰∏≠ÔºåËΩ¨Ë∫´ÂØπÈÇ£ÁéâÂÉèÈÅìÔºö‚ÄúÁ•û‰ªôÂßäÂßäÔºå‰Ω†Âê©ÂíêÊàëÊúùÂçàÊôö‰∏âÊ¨°ÁªÉÂäüÔºåÊÆµË™â‰∏çÊï¢ÊúâËøù„ÄÇ‰ªäÂêéÊàëÂØπ‰∫∫Âä†ÂÄçÂÆ¢Ê∞îÔºåÂà´‰∫∫‰∏ç‰ºöÊù•ÊâìÊàëÔºåÊàëËá™ÁÑ∂‰πü‰∏ç‰ºöÂéªÂê∏‰ªñÂÜÖÂäõ„ÄÇ‰Ω†ËøôÂ•ó‚ÄòÂáåÊ≥¢ÂæÆÊ≠•‚ÄôÊàëÊõ¥Ë¶ÅÁî®ÂøÉÁªÉÁÜüÔºåÁúºËßÅ‰∏çÂØπÔºåÁ´ãÂàªÊ∫ú‰πãÂ§ßÂêâÔºåÂ∞±Âê∏‰∏çÂà∞‰ªñÂÜÖÂäõ‰∫Ü„ÄÇ‚ÄùËá≥‰∫é‚ÄúÊùÄÂ∞ΩÊàëÈÄçÈÅ•Ê¥æÂºüÂ≠ê‚Äù‰∏ÄËäÇÔºåÂç¥ÊÉ≥‰πü‰∏çÊï¢ÂéªÊÉ≥„ÄÇ\n    \n    ********ChatGLM:ÂáåÊ≥¢ÂæÆÊ≠•ÊòØ‰∏ÄÈó®ÊûÅ‰∏ä‰πòÁöÑËΩªÂäüÔºåÊ∫ê‰∫é„ÄäÊòìÁªè„ÄãÂÖ´ÂÖ´ÂÖ≠ÂçÅÂõõÂç¶„ÄÇ‰ΩøÁî®ËÄÖÊåâÁÖßÁâπÂÆöÈ°∫Â∫èË∏èÁùÄÂç¶Ë±°Êñπ‰ΩçË°åËøõÔºå‰ªéÁ¨¨‰∏ÄÊ≠•Âà∞ÊúÄÂêé‰∏ÄÊ≠•Ê≠£Â•ΩË°åËµ∞‰∏Ä‰∏™Â§ßÂúà„ÄÇËøôÈó®ËΩªÂäüÁ≤æÂ¶ôÂºÇÂ∏∏ÔºåÂèØ‰ª•‰Ωø‰∫∫ÂÜÖÂäõÂ§ß‰∏∫ÊèêÂçáÔºå‰ΩÜÈúÄÂú®ÁªÉÊàê‚ÄúÂåóÂÜ•Á•ûÂäü‚ÄùÂêéÊâçËÉΩÁúüÊ≠£ÊéåÊè°„ÄÇÂáåÊ≥¢ÂæÆÊ≠•Âú®ÈáëÂ∫∏ÂÖàÁîüÁöÑ„ÄäÂ§©ÈæôÂÖ´ÈÉ®„Äã‰∏≠ÂæóÂà∞‰∫ÜÂÖÖÂàÜÁöÑÊèèÂÜô„ÄÇ\n    \n    ***************************after is cluster res******************************\n    ####################Á¨¨1ÊÆµÁõ∏ÂÖ≥ÊñáÊ°£####################\n    \n    ÂçàÈ•≠ËøáÂêéÔºåÊÆµË™âÂèàÁªÉ‚ÄúÂáåÊ≥¢ÂæÆÊ≠•‚ÄùÔºåËµ∞‰∏ÄÊ≠•ÔºåÂê∏‰∏ÄÂè£Ê∞îÔºåËµ∞Á¨¨‰∫åÊ≠•Êó∂Â∞ÜÊ∞îÂëºÂá∫ÔºåÂÖ≠ÂçÅÂõõÂç¶Ëµ∞ÂÆåÔºåÂõõËÇ¢ÂÖ®Êó†È∫ªÁóπ‰πãÊÑüÔºåÊñôÊÉ≥ÂëºÂê∏È°∫ÁïÖÔºå‰æøÊó†ÂÆ≥Â§Ñ„ÄÇÁ¨¨‰∫åÊ¨°ÂÜçËµ∞Êó∂ËøûËµ∞‰∏§Ê≠•Âê∏‰∏ÄÂè£Ê∞îÔºåÂÜçËµ∞‰∏§Ê≠•ÂßãË°åÂëºÂá∫„ÄÇËøô‚ÄúÂáåÊ≥¢ÂæÆÊ≠•‚ÄùÊòØ‰ª•Âä®Âäü‰øÆ‰π†ÂÜÖÂäüÔºåËÑöÊ≠•Ë∏èÈÅçÂÖ≠ÂçÅÂõõÂç¶‰∏Ä‰∏™Âë®Â§©ÔºåÂÜÖÊÅØËá™ÁÑ∂ËÄåÁÑ∂Âú∞‰πüËΩ¨‰∫Ü‰∏Ä‰∏™Âë®Â§©„ÄÇÂõ†Ê≠§‰ªñÊØèËµ∞‰∏ÄÈÅçÔºåÂÜÖÂäõ‰æøÊúâ‰∏ÄÂàÜËøõÁõä„ÄÇ\n    \n    ËøôËà¨ÁªÉ‰∫ÜÂá†Â§©Ôºå‚ÄúÂáåÊ≥¢ÂæÆÊ≠•‚ÄùÂ∑≤Ëµ∞ÂæóÈ¢á‰∏∫Á∫ØÁÜüÔºå‰∏çÈ°ªÂÜçÊï∞ÂëºÂê∏ÔºåÁ∫µÁÑ∂ÁñæË°åÔºåÊ∞îÊÅØ‰πüÂ∑≤Êó†ÊâÄÁ™íÊªû„ÄÇÂøÉÊÑèÊó¢ÁïÖÔºåË∑®Ê≠•Êó∂Ê∏êÊ∏êÊÉ≥Âà∞„ÄäÊ¥õÁ•ûËµã„Äã‰∏≠ÈÇ£‰∫õ‰∏é‚ÄúÂáåÊ≥¢ÂæÆÊ≠•‚ÄùÊúâÂÖ≥ÁöÑÂè•Â≠êÔºö‚Äú‰ªø‰ΩõÂÖÆËã•ËΩª‰∫ë‰πãËîΩÊúàÔºåÈ£òÈ£òÂÖÆËã•ÊµÅÈ£é‰πãÂõûÈõ™‚ÄùÔºå‚ÄúÁ´¶ËΩªË∫Ø‰ª•Èπ§Á´ãÔºåËã•Â∞ÜÈ£ûËÄåÊú™Áøî‚ÄùÔºå‚Äú‰ΩìËøÖÈ£ûÂá´ÔºåÈ£òÂøΩËã•Á•û‚ÄùÔºå‚ÄúÂä®Êó†Â∏∏ÂàôÔºåËã•Âç±Ëã•ÂÆâ„ÄÇËøõÊ≠¢ÈöæÊúüÔºåËã•ÂæÄËã•Ëøò‚Äù„ÄÇ\n    \n    \n    \n    ÁôæÂ∫¶ÁÆÄ‰ªã\n    \n    ÂáåÊ≥¢ÂæÆÊ≠•ÊòØ„ÄåÈÄçÈÅ•Ê¥æ„ÄçÁã¨Èó®ËΩªÂäüË∫´Ê≥ïÔºåÁ≤æÂ¶ôÂºÇÂ∏∏„ÄÇ\n    \n    ÂáåÊ≥¢ÂæÆÊ≠•‰πÉÊòØ‰∏ÄÈó®ÊûÅ‰∏ä‰πòÁöÑËΩªÂäüÔºåÊâÄ‰ª•Âàó‰∫éÂç∑ËΩ¥‰πãÊú´Ôºå‰ª•ÊòìÁªèÂÖ´ÂÖ´ÂÖ≠ÂçÅÂõõÂç¶‰∏∫Âü∫Á°ÄÔºå‰ΩøÁî®ËÄÖÊåâÁâπÂÆöÈ°∫Â∫èË∏èÁùÄÂç¶Ë±°Êñπ‰ΩçË°åËøõÔºå‰ªéÁ¨¨‰∏ÄÊ≠•Âà∞ÊúÄÂêé‰∏ÄÊ≠•Ê≠£Â•ΩË°åËµ∞‰∏Ä‰∏™Â§ßÂúà„ÄÇÊ≠§Ê≠•Ê≥ïÁ≤æÂ¶ôÂºÇÂ∏∏ÔºåÂéüÊòØË¶ÅÂæÖ‰∫∫ÁªÉÊàê„ÄåÂåóÂÜ•Á•ûÂäü„ÄçÔºåÂê∏‰∫∫ÂÜÖÂäõÔºåËá™Ë∫´ÂÜÖÂäõÂ∑≤„ÄêÈ¢á‰∏∫Ê∑±Âéö„Äë‰πãÂêéÂÜçÁªÉ„ÄÇ\n    \n    ####################Á¨¨2ÊÆµÁõ∏ÂÖ≥ÊñáÊ°£####################\n    \n    „ÄäÂ§©ÈæôÂÖ´ÈÉ®„ÄãÁ¨¨‰∫îÂõû ÂæÆÊ≠•Á∏†Á∫πÁîü\n    \n    Âç∑ËΩ¥‰∏≠Ê≠§Â§ñËØ∏ÁßçÁªèËÑâ‰øÆ‰π†‰πãÊ≥ïÁîöÂ§öÔºåÁöÜÊòØÂèñ‰∫∫ÂÜÖÂäõÁöÑÊ≥ïÈó®ÔºåÊÆµË™âËôΩËá™ËØ≠ÂÆΩËß£ÔºåÊÄªËßâ‰π†‰πãÊúâËøùÊú¨ÊÄßÔºåÂçïÊòØË¥™Â§öÂä°ÂæóÔºå‰æøÈùûÂ•Ω‰∫ãÔºåÂΩì‰∏ãÊöÇ‰∏çÁêÜ‰ºö„ÄÇ\n    \n    Âç∑Âà∞Âç∑ËΩ¥Êú´Á´ØÔºåÂèàËßÅÂà∞‰∫Ü‚ÄúÂáåÊ≥¢ÂæÆÊ≠•‚ÄùÈÇ£ÂõõÂ≠óÔºåÁôªÊó∂‰æøÊÉ≥Ëµ∑„ÄäÊ¥õÁ•ûËµã„Äã‰∏≠ÈÇ£‰∫õÂè•Â≠êÊù•Ôºö‚ÄúÂáåÊ≥¢ÂæÆÊ≠•ÔºåÁΩóË¢úÁîüÂ∞ò‚Ä¶‚Ä¶ËΩ¨ÁúÑÊµÅÁ≤æÔºåÂÖâÊ∂¶ÁéâÈ¢ú„ÄÇÂê´ËæûÊú™ÂêêÔºåÊ∞îËã•ÂπΩÂÖ∞„ÄÇÂçéÂÆπÂ©ÄÂ®úÔºå‰ª§ÊàëÂøòÈ§ê„ÄÇ‚ÄùÊõπÂ≠êÂª∫ÈÇ£‰∫õÂçÉÂè§ÂêçÂè•ÔºåÂú®ËÑëÊµ∑‰∏≠ÁºìÁºìÊµÅËøáÔºö‚ÄúÁßæÁ∫§ÂæóË°∑Ôºå‰øÆÁü≠ÂêàÂ∫¶ÔºåËÇ©Ëã•ÂâäÊàêÔºåËÖ∞Â¶ÇÁ∫¶Á¥†„ÄÇÂª∂È¢àÁßÄÈ°πÔºåÁöìË¥®ÂëàÈú≤„ÄÇËä≥Ê≥ΩÊó†Âä†ÔºåÈìÖÂçéÂºóÂæ°„ÄÇ‰∫ëÈ´ªÂ≥®Â≥®Ôºå‰øÆÁúâËøûÂ®ü„ÄÇ‰∏πÂîáÂ§ñÊúóÔºåÁöìÈΩøÂÜÖÈ≤ú„ÄÇÊòéÁú∏ÂñÑÁùêÔºåÈù•ËæÖÊâøÊùÉ„ÄÇÁë∞ÂßøËâ≥ÈÄ∏Ôºå‰ª™Èùô‰ΩìÈó≤„ÄÇÊüîÊÉÖÁª∞ÊÄÅÔºåÂ™ö‰∫éËØ≠Ë®Ä‚Ä¶‚Ä¶‚ÄùËøô‰∫õÂè•Â≠êÁî®Âú®Êú®Â©âÊ∏ÖË∫´‰∏äÔºå‚ÄúËøôËØùÂÄí‰πüÊúâÁêÜ‚ÄùÔºõ‰ΩÜÂ¶ÇÁî®‰πã‰∫éÁ•û‰ªôÂßäÂßäÔºåÂè™ÊÄïÊõ¥‰∏∫ÈÄÇÂêà„ÄÇÊÉ≥Âà∞Á•û‰ªôÂßäÂßäÁöÑÂßøÂÆπ‰ΩìÊÄÅÔºå‚ÄúÁöéËã•Â§™Èò≥ÂçáÊúùÈúûÔºåÁÅºËã•ËäôËìâÂá∫ÁªøÊ≥¢‚ÄùÔºå‰ΩÜËßâ‰æùÂ•πÂê©ÂíêË°å‰∫ãÔºåÂÆû‰∏∫‰∫∫ÁîüËá≥‰πêÔºåÂøÉÊÉ≥Ôºö‚ÄúÊàëÂÖàÊù•ÁªÉËøô‚ÄòÂáåÊ≥¢ÂæÆÊ≠•‚ÄôÔºåÊ≠§‰πÉÈÄÉÂëΩ‰πãÂ¶ôÊ≥ïÔºåÈùûÂÆ≥‰∫∫‰πãÊâãÊÆµ‰πüÔºåÁªÉ‰πãÊúâÁôæÂà©ËÄåÊó†‰∏ÄÂÆ≥„ÄÇ‚Äù\n    \n    ####################Á¨¨3ÊÆµÁõ∏ÂÖ≥ÊñáÊ°£####################\n    \n    „ÄäÂ§©ÈæôÂÖ´ÈÉ®„ÄãÁ¨¨‰∫åÂõû ÁéâÂ£ÅÊúàÂçéÊòé\n    \n    ÂÜçÂ±ïÂ∏õÂç∑ÔºåÈïøÂç∑‰∏äÊ∫êÊ∫êÁöÜÊòØË£∏Â•≥ÁîªÂÉèÔºåÊàñÁ´ãÊàñÂçßÔºåÊàñÁé∞ÂâçËÉ∏ÔºåÊàñËßÅÂêéËÉå„ÄÇ‰∫∫ÂÉèÁöÑÈù¢ÂÆπÈÉΩÊòØ‰∏ÄËà¨Ôºå‰ΩÜÊàñÂñúÊàñÊÑÅÔºåÊàñÂê´ÊÉÖÂáùÁú∏ÔºåÊàñËΩªÂóîËñÑÊÄíÔºåÁ•ûÊÉÖÂêÑÂºÇ„ÄÇ‰∏ÄÂÖ±Êúâ‰∏âÂçÅÂÖ≠ÂπÖÂõæÂÉèÔºåÊØèÂπÖÂÉè‰∏äÂùáÊúâÈ¢úËâ≤ÁªÜÁ∫øÔºåÊ≥®ÊòéÁ©¥ÈÅìÈÉ®‰ΩçÂèäÁªÉÂäüÊ≥ïËØÄ„ÄÇ\n    \n    Â∏õÂç∑Â∞ΩÂ§ÑÈ¢òÁùÄ‚ÄúÂáåÊ≥¢ÂæÆÊ≠•‚ÄùÂõõÂ≠óÔºåÂÖ∂ÂêéÁªòÁöÑÊòØÊó†Êï∞Ë∂≥Âç∞ÔºåÊ≥®Êòé‚ÄúÂ¶áÂ¶π‚Äù„ÄÅ‚ÄúÊó†Â¶Ñ‚ÄùÁ≠âÁ≠âÂ≠óÊ†∑ÔºåÂ∞ΩÊòØ„ÄäÊòìÁªè„Äã‰∏≠ÁöÑÊñπ‰Ωç„ÄÇÊÆµË™âÂâçÂá†Êó•ËøòÊ≠£ÂÖ®ÂøÉÂÖ®ÊÑèÂú∞ÈíªÁ†î„ÄäÊòìÁªè„ÄãÔºå‰∏ÄËßÅÂà∞Ëøô‰∫õÂêçÁß∞ÔºåÁôªÊó∂Á≤æÁ•ûÂ§ßÊåØÔºå‰æø‰ººÈÅáÂà∞ÊïÖ‰∫§ËâØÂèã‰∏ÄËà¨„ÄÇÂè™ËßÅË∂≥Âç∞ÂØÜÂØÜÈ∫ªÈ∫ªÔºå‰∏çÁü•ÊúâÂá†ÂçÉÁôæ‰∏™ÔºåËá™‰∏Ä‰∏™Ë∂≥Âç∞Ëá≥Âè¶‰∏Ä‰∏™Ë∂≥Âç∞ÂùáÊúâÁªøÁ∫øË¥Ø‰∏≤ÔºåÁ∫ø‰∏äÁªòÊúâÁÆ≠Â§¥ÔºåÊúÄÂêéÂÜôÁùÄ‰∏ÄË°åÂ≠óÈÅìÔºö‚ÄúÊ≠•Ê≥ïÁ•ûÂ¶ôÔºå‰øùË∫´ÈÅøÊïåÔºåÂæÖÁßØÂÜÖÂäõÔºåÂÜçÂèñÊïåÂëΩ„ÄÇ‚Äù\n    \n    ÊÆµË™âÂøÉÈÅìÔºö‚ÄúÁ•û‰ªôÂßäÂßäÊâÄÈÅóÁöÑÊ≠•Ê≥ïÔºåÂøÖÂÆöÁ≤æÂ¶ô‰πãÊûÅÔºåÈÅáÂà∞Âº∫ÊïåÊó∂ËÑ±Ë∫´ÈÄÉËµ∞ÔºåÈÇ£Â∞±ÂæàÂ•ΩÔºå‚ÄòÂÜçÂèñÊïåÂëΩ‚Äô‰πüÂ∞±‰∏çÂøÖ‰∫Ü„ÄÇ‚Äù\n    Âç∑Â•ΩÂ∏õÂç∑ÔºåÂØπ‰πã‰Ωú‰∫Ü‰∏§‰∏™ÊèñÔºåÁèçËÄåÈáç‰πãÂú∞Êè£ÂÖ•ÊÄÄ‰∏≠ÔºåËΩ¨Ë∫´ÂØπÈÇ£ÁéâÂÉèÈÅìÔºö‚ÄúÁ•û‰ªôÂßäÂßäÔºå‰Ω†Âê©ÂíêÊàëÊúùÂçàÊôö‰∏âÊ¨°ÁªÉÂäüÔºåÊÆµË™â‰∏çÊï¢ÊúâËøù„ÄÇ‰ªäÂêéÊàëÂØπ‰∫∫Âä†ÂÄçÂÆ¢Ê∞îÔºåÂà´‰∫∫‰∏ç‰ºöÊù•ÊâìÊàëÔºåÊàëËá™ÁÑ∂‰πü‰∏ç‰ºöÂéªÂê∏‰ªñÂÜÖÂäõ„ÄÇ‰Ω†ËøôÂ•ó‚ÄòÂáåÊ≥¢ÂæÆÊ≠•‚ÄôÊàëÊõ¥Ë¶ÅÁî®ÂøÉÁªÉÁÜüÔºåÁúºËßÅ‰∏çÂØπÔºåÁ´ãÂàªÊ∫ú‰πãÂ§ßÂêâÔºåÂ∞±Âê∏‰∏çÂà∞‰ªñÂÜÖÂäõ‰∫Ü„ÄÇ‚ÄùËá≥‰∫é‚ÄúÊùÄÂ∞ΩÊàëÈÄçÈÅ•Ê¥æÂºüÂ≠ê‚Äù‰∏ÄËäÇÔºåÂç¥ÊÉ≥‰πü‰∏çÊï¢ÂéªÊÉ≥„ÄÇ\n    \n    ********ChatGLM:ÂáåÊ≥¢ÂæÆÊ≠•ÊòØ‰∏ÄÈó®ÊûÅ‰∏ä‰πòÁöÑËΩªÂäüÔºåÊ∫ê‰∫é„ÄäÊòìÁªè„Äã‰∏≠ÁöÑÂÖ≠ÂçÅÂõõÂç¶„ÄÇ‰ΩøÁî®ËÄÖÊåâÁÖßÁâπÂÆöÈ°∫Â∫èË∏èÁùÄÂç¶Ë±°Êñπ‰ΩçË°åËøõÔºå‰ªéÁ¨¨‰∏ÄÊ≠•Âà∞ÊúÄÂêé‰∏ÄÊ≠•Ê≠£Â•ΩË°åËµ∞‰∏Ä‰∏™Â§ßÂúà„ÄÇËøôÈó®ËΩªÂäüÁ≤æÂ¶ôÂºÇÂ∏∏ÔºåÂèØ‰ª•‰Ωø‰∫∫ÂÜÖÂäõÂ¢ûËøõÔºå‰ΩÜÈúÄË¶ÅË∞®ÊÖéÁªÉ‰π†ÔºåÈÅøÂÖç‰º§ÂÆ≥‰ªñ‰∫∫„ÄÇÂáåÊ≥¢ÂæÆÊ≠•Âú®ÈÄçÈÅ•Ê¥æ‰∏≠Â∞§‰∏∫ÊµÅË°åÔºå‰ΩÜÂπ∂ÈùûÊâÄÊúâÈÄçÈÅ•Ê¥æÂºüÂ≠êÈÉΩ‰ºöÂáåÊ≥¢ÂæÆÊ≠•„ÄÇ\n    \n\nquery = \"‰Ω†Áü•ÈÅìvearchÊòØ‰ªÄ‰πàÂêó?\"\nresponse, history = model.chat(tokenizer, query, history=history)\nprint(f\"Human: {query}\\nChatGLM:{response}\\n\")\n\nvearch_info = [\n    \"Vearch ÊòØ‰∏ÄÊ¨æÂ≠òÂÇ®Â§ßËØ≠Ë®ÄÊ®°ÂûãÊï∞ÊçÆÁöÑÂêëÈáèÊï∞ÊçÆÂ∫ìÔºåÁî®‰∫éÂ≠òÂÇ®ÂíåÂø´ÈÄüÊêúÁ¥¢Ê®°ÂûãembeddingÂêéÁöÑÂêëÈáèÔºåÂèØÁî®‰∫éÂü∫‰∫é‰∏™‰∫∫Áü•ËØÜÂ∫ìÁöÑÂ§ßÊ®°ÂûãÂ∫îÁî®\",\n    \"Vearch ÊîØÊåÅOpenAI, Llama, ChatGLMÁ≠âÊ®°ÂûãÔºå‰ª•ÂèäLangChainÂ∫ì\",\n    \"vearch ÊòØÂü∫‰∫éCËØ≠Ë®Ä,goËØ≠Ë®ÄÂºÄÂèëÁöÑÔºåÂπ∂Êèê‰æõpythonÊé•Âè£ÔºåÂèØ‰ª•Áõ¥Êé•ÈÄöËøápipÂÆâË£Ö\",\n]\nvearch_source = [\n    {\n        \"source\": \"/data/zhx/zhx/langchain-ChatGLM_new/knowledge_base/tlbb/three_body.txt\"\n    },\n    {\n        \"source\": \"/data/zhx/zhx/langchain-ChatGLM_new/knowledge_base/tlbb/three_body.txt\"\n    },\n    {\n        \"source\": \"/data/zhx/zhx/langchain-ChatGLM_new/knowledge_base/tlbb/three_body.txt\"\n    },\n]\nvearch_standalone.add_texts(vearch_info, vearch_source)\n\nprint(\"*****************after is cluster res********************\")\n\nvearch_cluster.add_texts(vearch_info, vearch_source)\n\n    Human: ‰Ω†Áü•ÈÅìvearchÊòØ‰ªÄ‰πàÂêó?\n    ChatGLM:ÊòØÁöÑÔºåÊàëÁü•ÈÅì Vearch„ÄÇVearch ÊòØ‰∏ÄÁßçÁî®‰∫éËÆ°ÁÆóÊú∫Ê¢∞Á≥ªÁªüÊûÅÂåñÂ≠êÁöÑÂ∑•ÂÖ∑ÔºåÂÆÉÂèØ‰ª•Áî®‰∫éÊ®°ÊãüÂíå‰ºòÂåñÁîµË∑ØÁöÑÊÄßËÉΩ„ÄÇÂÆÉÊòØ‰∏Ä‰∏™Âü∫‰∫éMatlabÁöÑÁîµË∑Ø‰ªøÁúüËΩØ‰ª∂ÔºåÂèØ‰ª•Áî®‰∫éËÆæËÆ°ÂíåÂàÜÊûêÂêÑÁßçÁ±ªÂûãÁöÑÁîµË∑ØÔºåÂåÖÊã¨‰∫§ÊµÅÁîµË∑ØÂíåÁõ¥ÊµÅÁîµË∑Ø„ÄÇ\n    \n    docids ['eee5e7468434427eb49829374c1e8220', '2776754da8fc4bb58d3e482006010716', '9223acd6d89d4c2c84ff42677ac0d47c']\n    *****************after is cluster res********************\n    docids ['-4311783201092343475', '-2899734009733762895', '1342026762029067927']\n\n\n\n\n\n    ['-4311783201092343475', '-2899734009733762895', '1342026762029067927']\n\nquery3 = \"‰Ω†Áü•ÈÅìvearchÊòØ‰ªÄ‰πàÂêó?\"\nres1 = vearch_standalone.similarity_search(query3, 3)\nfor idx, tmp in enumerate(res1):\n    print(f\"{'#'*20}Á¨¨{idx+1}ÊÆµÁõ∏ÂÖ≥ÊñáÊ°£{'#'*20}\\n\\n{tmp.page_content}\\n\")\n\ncontext1 = \"\".join([tmp.page_content for tmp in res1])\nnew_query1 = f\"Âü∫‰∫é‰ª•‰∏ã‰ø°ÊÅØÔºåÂ∞ΩÂèØËÉΩÂáÜÁ°ÆÁöÑÊù•ÂõûÁ≠îÁî®Êà∑ÁöÑÈóÆÈ¢ò„ÄÇËÉåÊôØ‰ø°ÊÅØ:\\n {context1} \\n ÂõûÁ≠îÁî®Êà∑Ëøô‰∏™ÈóÆÈ¢ò:{query3}\\n\\n\"\nresponse, history = model.chat(tokenizer, new_query1, history=[])\nprint(f\"***************ChatGLM:{response}\\n\")\n\nprint(\"***************after is cluster res******************\")\n\nquery3_c = \"‰Ω†Áü•ÈÅìvearchÊòØ‰ªÄ‰πàÂêó?\"\nres1_c = vearch_standalone.similarity_search(query3_c, 3)\nfor idx, tmp in enumerate(res1_c):\n    print(f\"{'#'*20}Á¨¨{idx+1}ÊÆµÁõ∏ÂÖ≥ÊñáÊ°£{'#'*20}\\n\\n{tmp.page_content}\\n\")\n\ncontext1_C = \"\".join([tmp.page_content for tmp in res1_c])\nnew_query1_c = f\"Âü∫‰∫é‰ª•‰∏ã‰ø°ÊÅØÔºåÂ∞ΩÂèØËÉΩÂáÜÁ°ÆÁöÑÊù•ÂõûÁ≠îÁî®Êà∑ÁöÑÈóÆÈ¢ò„ÄÇËÉåÊôØ‰ø°ÊÅØ:\\n {context1_C} \\n ÂõûÁ≠îÁî®Êà∑Ëøô‰∏™ÈóÆÈ¢ò:{query3_c}\\n\\n\"\nresponse_c, history_c = model.chat(tokenizer, new_query1_c, history=[])\n\nprint(f\"***************ChatGLM:{response_c}\\n\")\n\n    ####################Á¨¨1ÊÆµÁõ∏ÂÖ≥ÊñáÊ°£####################\n    \n    Vearch ÊòØ‰∏ÄÊ¨æÂ≠òÂÇ®Â§ßËØ≠Ë®ÄÊ®°ÂûãÊï∞ÊçÆÁöÑÂêëÈáèÊï∞ÊçÆÂ∫ìÔºåÁî®‰∫éÂ≠òÂÇ®ÂíåÂø´ÈÄüÊêúÁ¥¢Ê®°ÂûãembeddingÂêéÁöÑÂêëÈáèÔºåÂèØÁî®‰∫éÂü∫‰∫é‰∏™‰∫∫Áü•ËØÜÂ∫ìÁöÑÂ§ßÊ®°ÂûãÂ∫îÁî®\n    \n    ####################Á¨¨2ÊÆµÁõ∏ÂÖ≥ÊñáÊ°£####################\n    \n    Vearch ÊîØÊåÅOpenAI, Llama, ChatGLMÁ≠âÊ®°ÂûãÔºå‰ª•ÂèäLangChainÂ∫ì\n    \n    ####################Á¨¨3ÊÆµÁõ∏ÂÖ≥ÊñáÊ°£####################\n    \n    vearch ÊòØÂü∫‰∫éCËØ≠Ë®Ä,goËØ≠Ë®ÄÂºÄÂèëÁöÑÔºåÂπ∂Êèê‰æõpythonÊé•Âè£ÔºåÂèØ‰ª•Áõ¥Êé•ÈÄöËøápipÂÆâË£Ö\n    \n    ***************ChatGLM:ÊòØÁöÑÔºåVarchÊòØ‰∏Ä‰∏™ÂêëÈáèÊï∞ÊçÆÂ∫ìÔºåÊó®Âú®Â≠òÂÇ®ÂíåÂø´ÈÄüÊêúÁ¥¢Ê®°ÂûãembeddingÂêéÁöÑÂêëÈáè„ÄÇÂÆÉÊîØÊåÅOpenAI„ÄÅChatGLMÁ≠âÊ®°ÂûãÔºåÂπ∂ÂèØÁõ¥Êé•ÈÄöËøápipÂÆâË£Ö„ÄÇ\n    \n    ***************after is cluster res******************\n    ####################Á¨¨1ÊÆµÁõ∏ÂÖ≥ÊñáÊ°£####################\n    \n    Vearch ÊòØ‰∏ÄÊ¨æÂ≠òÂÇ®Â§ßËØ≠Ë®ÄÊ®°ÂûãÊï∞ÊçÆÁöÑÂêëÈáèÊï∞ÊçÆÂ∫ìÔºåÁî®‰∫éÂ≠òÂÇ®ÂíåÂø´ÈÄüÊêúÁ¥¢Ê®°ÂûãembeddingÂêéÁöÑÂêëÈáèÔºåÂèØÁî®‰∫éÂü∫‰∫é‰∏™‰∫∫Áü•ËØÜÂ∫ìÁöÑÂ§ßÊ®°ÂûãÂ∫îÁî®\n    \n    ####################Á¨¨2ÊÆµÁõ∏ÂÖ≥ÊñáÊ°£####################\n    \n    Vearch ÊîØÊåÅOpenAI, Llama, ChatGLMÁ≠âÊ®°ÂûãÔºå‰ª•ÂèäLangChainÂ∫ì\n    \n    ####################Á¨¨3ÊÆµÁõ∏ÂÖ≥ÊñáÊ°£####################\n    \n    vearch ÊòØÂü∫‰∫éCËØ≠Ë®Ä,goËØ≠Ë®ÄÂºÄÂèëÁöÑÔºåÂπ∂Êèê‰æõpythonÊé•Âè£ÔºåÂèØ‰ª•Áõ¥Êé•ÈÄöËøápipÂÆâË£Ö\n    \n    ***************ChatGLM:ÊòØÁöÑÔºåVarchÊòØ‰∏Ä‰∏™ÂêëÈáèÊï∞ÊçÆÂ∫ìÔºåÊó®Âú®Â≠òÂÇ®ÂíåÂø´ÈÄüÊêúÁ¥¢Ê®°ÂûãembeddingÂêéÁöÑÂêëÈáè„ÄÇÂÆÉÊîØÊåÅOpenAIÔºåChatGLMÁ≠âÊ®°ÂûãÔºåÂπ∂ÂèØÁî®‰∫éÂü∫‰∫é‰∏™‰∫∫Áü•ËØÜÂ∫ìÁöÑÂ§ßÊ®°ÂûãÂ∫îÁî®„ÄÇVarchÂü∫‰∫éCËØ≠Ë®ÄÂíåGoËØ≠Ë®ÄÂºÄÂèëÔºåÂπ∂Êèê‰æõPythonÊé•Âè£ÔºåÂèØ‰ª•ÈÄöËøápipÂÆâË£Ö„ÄÇ\n    \n\n##delete and get function need to maintian  docids\n##your docid\n\nres_d = vearch_standalone.delete(\n    [\n        \"eee5e7468434427eb49829374c1e8220\",\n        \"2776754da8fc4bb58d3e482006010716\",\n        \"9223acd6d89d4c2c84ff42677ac0d47c\",\n    ]\n)\nprint(\"delete vearch standalone docid\", res_d)\nquery = \"‰Ω†Áü•ÈÅìvearchÊòØ‰ªÄ‰πàÂêó?\"\nresponse, history = model.chat(tokenizer, query, history=[])\nprint(f\"Human: {query}\\nChatGLM:{response}\\n\")\n\nres_cluster = vearch_cluster.delete(\n    [\"-4311783201092343475\", \"-2899734009733762895\", \"1342026762029067927\"]\n)\nprint(\"delete vearch cluster docid\", res_cluster)\nquery_c = \"‰Ω†Áü•ÈÅìvearchÊòØ‰ªÄ‰πàÂêó?\"\nresponse_c, history = model.chat(tokenizer, query_c, history=[])\nprint(f\"Human: {query}\\nChatGLM:{response_c}\\n\")\n\n\nget_delet_doc = vearch_standalone.get(\n    [\n        \"eee5e7468434427eb49829374c1e8220\",\n        \"2776754da8fc4bb58d3e482006010716\",\n        \"9223acd6d89d4c2c84ff42677ac0d47c\",\n    ]\n)\nprint(\"after delete docid to query again:\", get_delet_doc)\nget_id_doc = vearch_standalone.get(\n    [\n        \"18ce6747dca04a2c833e60e8dfd83c04\",\n        \"aafacb0e46574b378a9f433877ab06a8\",\n        \"9776bccfdd8643a8b219ccee0596f370\",\n        \"9223acd6d89d4c2c84ff42677ac0d47c\",\n    ]\n)\nprint(\"get existed docid\", get_id_doc)\n\nget_delet_doc = vearch_cluster.get(\n    [\"-4311783201092343475\", \"-2899734009733762895\", \"1342026762029067927\"]\n)\nprint(\"after delete docid to query again:\", get_delet_doc)\nget_id_doc = vearch_cluster.get(\n    [\n        \"1841638988191686991\",\n        \"-4519586577642625749\",\n        \"5028230008472292907\",\n        \"1342026762029067927\",\n    ]\n)\nprint(\"get existed docid\", get_id_doc)\n\n    delete vearch standalone docid True\n    Human: ‰Ω†Áü•ÈÅìvearchÊòØ‰ªÄ‰πàÂêó?\n    ChatGLM:VearchÊòØ‰∏ÄÁßçÁî®‰∫éÂ§ÑÁêÜÂêëÈáèÁöÑÂ∫ì,ÂèØ‰ª•ËΩªÊùæÂú∞Â∞ÜÂêëÈáèËΩ¨Êç¢‰∏∫Áü©Èòµ,Âπ∂Êèê‰æõËÆ∏Â§öÊúâÁî®ÁöÑÂáΩÊï∞ÂíåÁÆóÊ≥ï,‰ª•Êìç‰ΩúÂêëÈáè„ÄÇ VearchÊîØÊåÅËÆ∏Â§öÂ∏∏ËßÅÁöÑÂêëÈáèÊìç‰Ωú,‰æãÂ¶ÇÂä†Ê≥ï„ÄÅÂáèÊ≥ï„ÄÅ‰πòÊ≥ï„ÄÅÈô§Ê≥ï„ÄÅÁü©Èòµ‰πòÊ≥ï„ÄÅÊ±ÇÂíå„ÄÅÁªüËÆ°ÂíåÂΩí‰∏ÄÂåñÁ≠â„ÄÇ VearchËøòÊèê‰æõ‰∫Ü‰∏Ä‰∫õÈ´òÁ∫ßÂäüËÉΩ,‰æãÂ¶ÇL2Ê≠£ÂàôÂåñ„ÄÅÂçèÊñπÂ∑ÆÁü©Èòµ„ÄÅÁ®ÄÁñèÁü©ÈòµÂíåÂ•áÂºÇÂÄºÂàÜËß£Á≠â„ÄÇ\n    \n    delete vearch cluster docid True\n    Human: ‰Ω†Áü•ÈÅìvearchÊòØ‰ªÄ‰πàÂêó?\n    ChatGLM:VearchÊòØ‰∏ÄÁßçÁî®‰∫éÂ§ÑÁêÜÂêëÈáèÊï∞ÊçÆÁöÑÂáΩÊï∞,ÂèØ‰ª•Â∫îÁî®‰∫éÂ§öÁßç‰∏çÂêåÁöÑÁºñÁ®ãËØ≠Ë®ÄÂíåÊï∞ÊçÆÁªìÊûÑ‰∏≠„ÄÇ\n    \n    VearchÊúÄÂàùÊòØ‰Ωú‰∏∫Java‰∏≠‰∏Ä‰∏™Âêç‰∏∫‚Äúvearch‚ÄùÁöÑÂåÖËÄåÂá∫Áé∞ÁöÑ,ÂÆÉÁöÑÁõÆÁöÑÊòØÊèê‰æõ‰∏ÄÁßçÈ´òÊïàÁöÑÂêëÈáèÊï∞ÊçÆÁªìÊûÑ„ÄÇÂÆÉÊîØÊåÅÂêëÈáèÁöÑÂ§öÊÄÅÊÄß,ÂèØ‰ª•ËΩªÊùæÂú∞ÂÆûÁé∞‰∏çÂêåÁ±ªÂûãÁöÑÂêëÈáè‰πãÈó¥ÁöÑËΩ¨Êç¢,ÂêåÊó∂ËøòÊîØÊåÅÂêëÈáèÁöÑÂéãÁº©ÂíåÂèçÂêëÊìç‰ΩúÁ≠âÊìç‰Ωú„ÄÇ\n    \n    ÂêéÊù•,VearchË¢´ÂπøÊ≥õÂ∫îÁî®‰∫éÂÖ∂‰ªñÁºñÁ®ãËØ≠Ë®Ä‰∏≠,Â¶ÇPython„ÄÅRuby„ÄÅJavaScriptÁ≠â„ÄÇÂú®Python‰∏≠,ÂÆÉË¢´Áß∞‰∏∫‚Äúvectorize‚Äù,Âú®Ruby‰∏≠,ÂÆÉË¢´Áß∞‰∏∫‚ÄúVector‚Äù„ÄÇ\n    \n    VearchÁöÑ‰∏ªË¶Å‰ºòÁÇπÊòØÂÆÉÁöÑÂêëÈáèÊìç‰ΩúÂÖ∑ÊúâÂ§öÊÄÅÊÄß,ÂèØ‰ª•Â∫îÁî®‰∫é‰∏çÂêåÁ±ªÂûãÁöÑÂêëÈáèÊï∞ÊçÆ,ÂêåÊó∂ËøòÊîØÊåÅÈ´òÊïàÁöÑÂêëÈáèÊìç‰ΩúÂíåÂèçÂêëÊìç‰Ωú,Âõ†Ê≠§ÂèØ‰ª•ÊèêÈ´òÁ®ãÂ∫èÁöÑÊÄßËÉΩ„ÄÇ\n    \n    after delete docid to query again: {}\n    get existed docid {'18ce6747dca04a2c833e60e8dfd83c04': Document(page_content='„ÄäÂ§©ÈæôÂÖ´ÈÉ®„ÄãÁ¨¨‰∫åÂõû ÁéâÂ£ÅÊúàÂçéÊòé\\n\\nÂÜçÂ±ïÂ∏õÂç∑ÔºåÈïøÂç∑‰∏äÊ∫êÊ∫êÁöÜÊòØË£∏Â•≥ÁîªÂÉèÔºåÊàñÁ´ãÊàñÂçßÔºåÊàñÁé∞ÂâçËÉ∏ÔºåÊàñËßÅÂêéËÉå„ÄÇ‰∫∫ÂÉèÁöÑÈù¢ÂÆπÈÉΩÊòØ‰∏ÄËà¨Ôºå‰ΩÜÊàñÂñúÊàñÊÑÅÔºåÊàñÂê´ÊÉÖÂáùÁú∏ÔºåÊàñËΩªÂóîËñÑÊÄíÔºåÁ•ûÊÉÖÂêÑÂºÇ„ÄÇ‰∏ÄÂÖ±Êúâ‰∏âÂçÅÂÖ≠ÂπÖÂõæÂÉèÔºåÊØèÂπÖÂÉè‰∏äÂùáÊúâÈ¢úËâ≤ÁªÜÁ∫øÔºåÊ≥®ÊòéÁ©¥ÈÅìÈÉ®‰ΩçÂèäÁªÉÂäüÊ≥ïËØÄ„ÄÇ\\n\\nÂ∏õÂç∑Â∞ΩÂ§ÑÈ¢òÁùÄ‚ÄúÂáåÊ≥¢ÂæÆÊ≠•‚ÄùÂõõÂ≠óÔºåÂÖ∂ÂêéÁªòÁöÑÊòØÊó†Êï∞Ë∂≥Âç∞ÔºåÊ≥®Êòé‚ÄúÂ¶áÂ¶π‚Äù„ÄÅ‚ÄúÊó†Â¶Ñ‚ÄùÁ≠âÁ≠âÂ≠óÊ†∑ÔºåÂ∞ΩÊòØ„ÄäÊòìÁªè„Äã‰∏≠ÁöÑÊñπ‰Ωç„ÄÇÊÆµË™âÂâçÂá†Êó•ËøòÊ≠£ÂÖ®ÂøÉÂÖ®ÊÑèÂú∞ÈíªÁ†î„ÄäÊòìÁªè„ÄãÔºå‰∏ÄËßÅÂà∞Ëøô‰∫õÂêçÁß∞ÔºåÁôªÊó∂Á≤æÁ•ûÂ§ßÊåØÔºå‰æø‰ººÈÅáÂà∞ÊïÖ‰∫§ËâØÂèã‰∏ÄËà¨„ÄÇÂè™ËßÅË∂≥Âç∞ÂØÜÂØÜÈ∫ªÈ∫ªÔºå‰∏çÁü•ÊúâÂá†ÂçÉÁôæ‰∏™ÔºåËá™‰∏Ä‰∏™Ë∂≥Âç∞Ëá≥Âè¶‰∏Ä‰∏™Ë∂≥Âç∞ÂùáÊúâÁªøÁ∫øË¥Ø‰∏≤ÔºåÁ∫ø‰∏äÁªòÊúâÁÆ≠Â§¥ÔºåÊúÄÂêéÂÜôÁùÄ‰∏ÄË°åÂ≠óÈÅìÔºö‚ÄúÊ≠•Ê≥ïÁ•ûÂ¶ôÔºå‰øùË∫´ÈÅøÊïåÔºåÂæÖÁßØÂÜÖÂäõÔºåÂÜçÂèñÊïåÂëΩ„ÄÇ‚Äù\\n\\nÊÆµË™âÂøÉÈÅìÔºö‚ÄúÁ•û‰ªôÂßäÂßäÊâÄÈÅóÁöÑÊ≠•Ê≥ïÔºåÂøÖÂÆöÁ≤æÂ¶ô‰πãÊûÅÔºåÈÅáÂà∞Âº∫ÊïåÊó∂ËÑ±Ë∫´ÈÄÉËµ∞ÔºåÈÇ£Â∞±ÂæàÂ•ΩÔºå‚ÄòÂÜçÂèñÊïåÂëΩ‚Äô‰πüÂ∞±‰∏çÂøÖ‰∫Ü„ÄÇ‚Äù\\nÂç∑Â•ΩÂ∏õÂç∑ÔºåÂØπ‰πã‰Ωú‰∫Ü‰∏§‰∏™ÊèñÔºåÁèçËÄåÈáç‰πãÂú∞Êè£ÂÖ•ÊÄÄ‰∏≠ÔºåËΩ¨Ë∫´ÂØπÈÇ£ÁéâÂÉèÈÅìÔºö‚ÄúÁ•û‰ªôÂßäÂßäÔºå‰Ω†Âê©ÂíêÊàëÊúùÂçàÊôö‰∏âÊ¨°ÁªÉÂäüÔºåÊÆµË™â‰∏çÊï¢ÊúâËøù„ÄÇ‰ªäÂêéÊàëÂØπ‰∫∫Âä†ÂÄçÂÆ¢Ê∞îÔºåÂà´‰∫∫‰∏ç‰ºöÊù•ÊâìÊàëÔºåÊàëËá™ÁÑ∂‰πü‰∏ç‰ºöÂéªÂê∏‰ªñÂÜÖÂäõ„ÄÇ‰Ω†ËøôÂ•ó‚ÄòÂáåÊ≥¢ÂæÆÊ≠•‚ÄôÊàëÊõ¥Ë¶ÅÁî®ÂøÉÁªÉÁÜüÔºåÁúºËßÅ‰∏çÂØπÔºåÁ´ãÂàªÊ∫ú‰πãÂ§ßÂêâÔºåÂ∞±Âê∏‰∏çÂà∞‰ªñÂÜÖÂäõ‰∫Ü„ÄÇ‚ÄùËá≥‰∫é‚ÄúÊùÄÂ∞ΩÊàëÈÄçÈÅ•Ê¥æÂºüÂ≠ê‚Äù‰∏ÄËäÇÔºåÂç¥ÊÉ≥‰πü‰∏çÊï¢ÂéªÊÉ≥„ÄÇ', metadata={'source': '/data/zhx/zhx/langchain-ChatGLM_new/knowledge_base/Â§©ÈæôÂÖ´ÈÉ®/lingboweibu.txt'}), 'aafacb0e46574b378a9f433877ab06a8': Document(page_content='„ÄäÂ§©ÈæôÂÖ´ÈÉ®„ÄãÁ¨¨‰∫îÂõû ÂæÆÊ≠•Á∏†Á∫πÁîü\\n\\nÂç∑ËΩ¥‰∏≠Ê≠§Â§ñËØ∏ÁßçÁªèËÑâ‰øÆ‰π†‰πãÊ≥ïÁîöÂ§öÔºåÁöÜÊòØÂèñ‰∫∫ÂÜÖÂäõÁöÑÊ≥ïÈó®ÔºåÊÆµË™âËôΩËá™ËØ≠ÂÆΩËß£ÔºåÊÄªËßâ‰π†‰πãÊúâËøùÊú¨ÊÄßÔºåÂçïÊòØË¥™Â§öÂä°ÂæóÔºå‰æøÈùûÂ•Ω‰∫ãÔºåÂΩì‰∏ãÊöÇ‰∏çÁêÜ‰ºö„ÄÇ\\n\\nÂç∑Âà∞Âç∑ËΩ¥Êú´Á´ØÔºåÂèàËßÅÂà∞‰∫Ü‚ÄúÂáåÊ≥¢ÂæÆÊ≠•‚ÄùÈÇ£ÂõõÂ≠óÔºåÁôªÊó∂‰æøÊÉ≥Ëµ∑„ÄäÊ¥õÁ•ûËµã„Äã‰∏≠ÈÇ£‰∫õÂè•Â≠êÊù•Ôºö‚ÄúÂáåÊ≥¢ÂæÆÊ≠•ÔºåÁΩóË¢úÁîüÂ∞ò‚Ä¶‚Ä¶ËΩ¨ÁúÑÊµÅÁ≤æÔºåÂÖâÊ∂¶ÁéâÈ¢ú„ÄÇÂê´ËæûÊú™ÂêêÔºåÊ∞îËã•ÂπΩÂÖ∞„ÄÇÂçéÂÆπÂ©ÄÂ®úÔºå‰ª§ÊàëÂøòÈ§ê„ÄÇ‚ÄùÊõπÂ≠êÂª∫ÈÇ£‰∫õÂçÉÂè§ÂêçÂè•ÔºåÂú®ËÑëÊµ∑‰∏≠ÁºìÁºìÊµÅËøáÔºö‚ÄúÁßæÁ∫§ÂæóË°∑Ôºå‰øÆÁü≠ÂêàÂ∫¶ÔºåËÇ©Ëã•ÂâäÊàêÔºåËÖ∞Â¶ÇÁ∫¶Á¥†„ÄÇÂª∂È¢àÁßÄÈ°πÔºåÁöìË¥®ÂëàÈú≤„ÄÇËä≥Ê≥ΩÊó†Âä†ÔºåÈìÖÂçéÂºóÂæ°„ÄÇ‰∫ëÈ´ªÂ≥®Â≥®Ôºå‰øÆÁúâËøûÂ®ü„ÄÇ‰∏πÂîáÂ§ñÊúóÔºåÁöìÈΩøÂÜÖÈ≤ú„ÄÇÊòéÁú∏ÂñÑÁùêÔºåÈù•ËæÖÊâøÊùÉ„ÄÇÁë∞ÂßøËâ≥ÈÄ∏Ôºå‰ª™Èùô‰ΩìÈó≤„ÄÇÊüîÊÉÖÁª∞ÊÄÅÔºåÂ™ö‰∫éËØ≠Ë®Ä‚Ä¶‚Ä¶‚ÄùËøô‰∫õÂè•Â≠êÁî®Âú®Êú®Â©âÊ∏ÖË∫´‰∏äÔºå‚ÄúËøôËØùÂÄí‰πüÊúâÁêÜ‚ÄùÔºõ‰ΩÜÂ¶ÇÁî®‰πã‰∫éÁ•û‰ªôÂßäÂßäÔºåÂè™ÊÄïÊõ¥‰∏∫ÈÄÇÂêà„ÄÇÊÉ≥Âà∞Á•û‰ªôÂßäÂßäÁöÑÂßøÂÆπ‰ΩìÊÄÅÔºå‚ÄúÁöéËã•Â§™Èò≥ÂçáÊúùÈúûÔºåÁÅºËã•ËäôËìâÂá∫ÁªøÊ≥¢‚ÄùÔºå‰ΩÜËßâ‰æùÂ•πÂê©ÂíêË°å‰∫ãÔºåÂÆû‰∏∫‰∫∫ÁîüËá≥‰πêÔºåÂøÉÊÉ≥Ôºö‚ÄúÊàëÂÖàÊù•ÁªÉËøô‚ÄòÂáåÊ≥¢ÂæÆÊ≠•‚ÄôÔºåÊ≠§‰πÉÈÄÉÂëΩ‰πãÂ¶ôÊ≥ïÔºåÈùûÂÆ≥‰∫∫‰πãÊâãÊÆµ‰πüÔºåÁªÉ‰πãÊúâÁôæÂà©ËÄåÊó†‰∏ÄÂÆ≥„ÄÇ‚Äù', metadata={'source': '/data/zhx/zhx/langchain-ChatGLM_new/knowledge_base/Â§©ÈæôÂÖ´ÈÉ®/lingboweibu.txt'}), '9776bccfdd8643a8b219ccee0596f370': Document(page_content='ÂçàÈ•≠ËøáÂêéÔºåÊÆµË™âÂèàÁªÉ‚ÄúÂáåÊ≥¢ÂæÆÊ≠•‚ÄùÔºåËµ∞‰∏ÄÊ≠•ÔºåÂê∏‰∏ÄÂè£Ê∞îÔºåËµ∞Á¨¨‰∫åÊ≠•Êó∂Â∞ÜÊ∞îÂëºÂá∫ÔºåÂÖ≠ÂçÅÂõõÂç¶Ëµ∞ÂÆåÔºåÂõõËÇ¢ÂÖ®Êó†È∫ªÁóπ‰πãÊÑüÔºåÊñôÊÉ≥ÂëºÂê∏È°∫ÁïÖÔºå‰æøÊó†ÂÆ≥Â§Ñ„ÄÇÁ¨¨‰∫åÊ¨°ÂÜçËµ∞Êó∂ËøûËµ∞‰∏§Ê≠•Âê∏‰∏ÄÂè£Ê∞îÔºåÂÜçËµ∞‰∏§Ê≠•ÂßãË°åÂëºÂá∫„ÄÇËøô‚ÄúÂáåÊ≥¢ÂæÆÊ≠•‚ÄùÊòØ‰ª•Âä®Âäü‰øÆ‰π†ÂÜÖÂäüÔºåËÑöÊ≠•Ë∏èÈÅçÂÖ≠ÂçÅÂõõÂç¶‰∏Ä‰∏™Âë®Â§©ÔºåÂÜÖÊÅØËá™ÁÑ∂ËÄåÁÑ∂Âú∞‰πüËΩ¨‰∫Ü‰∏Ä‰∏™Âë®Â§©„ÄÇÂõ†Ê≠§‰ªñÊØèËµ∞‰∏ÄÈÅçÔºåÂÜÖÂäõ‰æøÊúâ‰∏ÄÂàÜËøõÁõä„ÄÇ\\n\\nËøôËà¨ÁªÉ‰∫ÜÂá†Â§©Ôºå‚ÄúÂáåÊ≥¢ÂæÆÊ≠•‚ÄùÂ∑≤Ëµ∞ÂæóÈ¢á‰∏∫Á∫ØÁÜüÔºå‰∏çÈ°ªÂÜçÊï∞ÂëºÂê∏ÔºåÁ∫µÁÑ∂ÁñæË°åÔºåÊ∞îÊÅØ‰πüÂ∑≤Êó†ÊâÄÁ™íÊªû„ÄÇÂøÉÊÑèÊó¢ÁïÖÔºåË∑®Ê≠•Êó∂Ê∏êÊ∏êÊÉ≥Âà∞„ÄäÊ¥õÁ•ûËµã„Äã‰∏≠ÈÇ£‰∫õ‰∏é‚ÄúÂáåÊ≥¢ÂæÆÊ≠•‚ÄùÊúâÂÖ≥ÁöÑÂè•Â≠êÔºö‚Äú‰ªø‰ΩõÂÖÆËã•ËΩª‰∫ë‰πãËîΩÊúàÔºåÈ£òÈ£òÂÖÆËã•ÊµÅÈ£é‰πãÂõûÈõ™‚ÄùÔºå‚ÄúÁ´¶ËΩªË∫Ø‰ª•Èπ§Á´ãÔºåËã•Â∞ÜÈ£ûËÄåÊú™Áøî‚ÄùÔºå‚Äú‰ΩìËøÖÈ£ûÂá´ÔºåÈ£òÂøΩËã•Á•û‚ÄùÔºå‚ÄúÂä®Êó†Â∏∏ÂàôÔºåËã•Âç±Ëã•ÂÆâ„ÄÇËøõÊ≠¢ÈöæÊúüÔºåËã•ÂæÄËã•Ëøò‚Äù„ÄÇ\\n\\n\\n\\nÁôæÂ∫¶ÁÆÄ‰ªã\\n\\nÂáåÊ≥¢ÂæÆÊ≠•ÊòØ„ÄåÈÄçÈÅ•Ê¥æ„ÄçÁã¨Èó®ËΩªÂäüË∫´Ê≥ïÔºåÁ≤æÂ¶ôÂºÇÂ∏∏„ÄÇ\\n\\nÂáåÊ≥¢ÂæÆÊ≠•‰πÉÊòØ‰∏ÄÈó®ÊûÅ‰∏ä‰πòÁöÑËΩªÂäüÔºåÊâÄ‰ª•Âàó‰∫éÂç∑ËΩ¥‰πãÊú´Ôºå‰ª•ÊòìÁªèÂÖ´ÂÖ´ÂÖ≠ÂçÅÂõõÂç¶‰∏∫Âü∫Á°ÄÔºå‰ΩøÁî®ËÄÖÊåâÁâπÂÆöÈ°∫Â∫èË∏èÁùÄÂç¶Ë±°Êñπ‰ΩçË°åËøõÔºå‰ªéÁ¨¨‰∏ÄÊ≠•Âà∞ÊúÄÂêé‰∏ÄÊ≠•Ê≠£Â•ΩË°åËµ∞‰∏Ä‰∏™Â§ßÂúà„ÄÇÊ≠§Ê≠•Ê≥ïÁ≤æÂ¶ôÂºÇÂ∏∏ÔºåÂéüÊòØË¶ÅÂæÖ‰∫∫ÁªÉÊàê„ÄåÂåóÂÜ•Á•ûÂäü„ÄçÔºåÂê∏‰∫∫ÂÜÖÂäõÔºåËá™Ë∫´ÂÜÖÂäõÂ∑≤„ÄêÈ¢á‰∏∫Ê∑±Âéö„Äë‰πãÂêéÂÜçÁªÉ„ÄÇ', metadata={'source': '/data/zhx/zhx/langchain-ChatGLM_new/knowledge_base/Â§©ÈæôÂÖ´ÈÉ®/lingboweibu.txt'})}\n    after delete docid to query again: {}\n    get existed docid {'1841638988191686991': Document(page_content='„ÄäÂ§©ÈæôÂÖ´ÈÉ®„ÄãÁ¨¨‰∫åÂõû ÁéâÂ£ÅÊúàÂçéÊòé\\n\\nÂÜçÂ±ïÂ∏õÂç∑ÔºåÈïøÂç∑‰∏äÊ∫êÊ∫êÁöÜÊòØË£∏Â•≥ÁîªÂÉèÔºåÊàñÁ´ãÊàñÂçßÔºåÊàñÁé∞ÂâçËÉ∏ÔºåÊàñËßÅÂêéËÉå„ÄÇ‰∫∫ÂÉèÁöÑÈù¢ÂÆπÈÉΩÊòØ‰∏ÄËà¨Ôºå‰ΩÜÊàñÂñúÊàñÊÑÅÔºåÊàñÂê´ÊÉÖÂáùÁú∏ÔºåÊàñËΩªÂóîËñÑÊÄíÔºåÁ•ûÊÉÖÂêÑÂºÇ„ÄÇ‰∏ÄÂÖ±Êúâ‰∏âÂçÅÂÖ≠ÂπÖÂõæÂÉèÔºåÊØèÂπÖÂÉè‰∏äÂùáÊúâÈ¢úËâ≤ÁªÜÁ∫øÔºåÊ≥®ÊòéÁ©¥ÈÅìÈÉ®‰ΩçÂèäÁªÉÂäüÊ≥ïËØÄ„ÄÇ\\n\\nÂ∏õÂç∑Â∞ΩÂ§ÑÈ¢òÁùÄ‚ÄúÂáåÊ≥¢ÂæÆÊ≠•‚ÄùÂõõÂ≠óÔºåÂÖ∂ÂêéÁªòÁöÑÊòØÊó†Êï∞Ë∂≥Âç∞ÔºåÊ≥®Êòé‚ÄúÂ¶áÂ¶π‚Äù„ÄÅ‚ÄúÊó†Â¶Ñ‚ÄùÁ≠âÁ≠âÂ≠óÊ†∑ÔºåÂ∞ΩÊòØ„ÄäÊòìÁªè„Äã‰∏≠ÁöÑÊñπ‰Ωç„ÄÇÊÆµË™âÂâçÂá†Êó•ËøòÊ≠£ÂÖ®ÂøÉÂÖ®ÊÑèÂú∞ÈíªÁ†î„ÄäÊòìÁªè„ÄãÔºå‰∏ÄËßÅÂà∞Ëøô‰∫õÂêçÁß∞ÔºåÁôªÊó∂Á≤æÁ•ûÂ§ßÊåØÔºå‰æø‰ººÈÅáÂà∞ÊïÖ‰∫§ËâØÂèã‰∏ÄËà¨„ÄÇÂè™ËßÅË∂≥Âç∞ÂØÜÂØÜÈ∫ªÈ∫ªÔºå‰∏çÁü•ÊúâÂá†ÂçÉÁôæ‰∏™ÔºåËá™‰∏Ä‰∏™Ë∂≥Âç∞Ëá≥Âè¶‰∏Ä‰∏™Ë∂≥Âç∞ÂùáÊúâÁªøÁ∫øË¥Ø‰∏≤ÔºåÁ∫ø‰∏äÁªòÊúâÁÆ≠Â§¥ÔºåÊúÄÂêéÂÜôÁùÄ‰∏ÄË°åÂ≠óÈÅìÔºö‚ÄúÊ≠•Ê≥ïÁ•ûÂ¶ôÔºå‰øùË∫´ÈÅøÊïåÔºåÂæÖÁßØÂÜÖÂäõÔºåÂÜçÂèñÊïåÂëΩ„ÄÇ‚Äù\\n\\nÊÆµË™âÂøÉÈÅìÔºö‚ÄúÁ•û‰ªôÂßäÂßäÊâÄÈÅóÁöÑÊ≠•Ê≥ïÔºåÂøÖÂÆöÁ≤æÂ¶ô‰πãÊûÅÔºåÈÅáÂà∞Âº∫ÊïåÊó∂ËÑ±Ë∫´ÈÄÉËµ∞ÔºåÈÇ£Â∞±ÂæàÂ•ΩÔºå‚ÄòÂÜçÂèñÊïåÂëΩ‚Äô‰πüÂ∞±‰∏çÂøÖ‰∫Ü„ÄÇ‚Äù\\nÂç∑Â•ΩÂ∏õÂç∑ÔºåÂØπ‰πã‰Ωú‰∫Ü‰∏§‰∏™ÊèñÔºåÁèçËÄåÈáç‰πãÂú∞Êè£ÂÖ•ÊÄÄ‰∏≠ÔºåËΩ¨Ë∫´ÂØπÈÇ£ÁéâÂÉèÈÅìÔºö‚ÄúÁ•û‰ªôÂßäÂßäÔºå‰Ω†Âê©ÂíêÊàëÊúùÂçàÊôö‰∏âÊ¨°ÁªÉÂäüÔºåÊÆµË™â‰∏çÊï¢ÊúâËøù„ÄÇ‰ªäÂêéÊàëÂØπ‰∫∫Âä†ÂÄçÂÆ¢Ê∞îÔºåÂà´‰∫∫‰∏ç‰ºöÊù•ÊâìÊàëÔºåÊàëËá™ÁÑ∂‰πü‰∏ç‰ºöÂéªÂê∏‰ªñÂÜÖÂäõ„ÄÇ‰Ω†ËøôÂ•ó‚ÄòÂáåÊ≥¢ÂæÆÊ≠•‚ÄôÊàëÊõ¥Ë¶ÅÁî®ÂøÉÁªÉÁÜüÔºåÁúºËßÅ‰∏çÂØπÔºåÁ´ãÂàªÊ∫ú‰πãÂ§ßÂêâÔºåÂ∞±Âê∏‰∏çÂà∞‰ªñÂÜÖÂäõ‰∫Ü„ÄÇ‚ÄùËá≥‰∫é‚ÄúÊùÄÂ∞ΩÊàëÈÄçÈÅ•Ê¥æÂºüÂ≠ê‚Äù‰∏ÄËäÇÔºåÂç¥ÊÉ≥‰πü‰∏çÊï¢ÂéªÊÉ≥„ÄÇ', metadata={'source': '/data/zhx/zhx/langchain-ChatGLM_new/knowledge_base/Â§©ÈæôÂÖ´ÈÉ®/lingboweibu.txt'}), '-4519586577642625749': Document(page_content='„ÄäÂ§©ÈæôÂÖ´ÈÉ®„ÄãÁ¨¨‰∫îÂõû ÂæÆÊ≠•Á∏†Á∫πÁîü\\n\\nÂç∑ËΩ¥‰∏≠Ê≠§Â§ñËØ∏ÁßçÁªèËÑâ‰øÆ‰π†‰πãÊ≥ïÁîöÂ§öÔºåÁöÜÊòØÂèñ‰∫∫ÂÜÖÂäõÁöÑÊ≥ïÈó®ÔºåÊÆµË™âËôΩËá™ËØ≠ÂÆΩËß£ÔºåÊÄªËßâ‰π†‰πãÊúâËøùÊú¨ÊÄßÔºåÂçïÊòØË¥™Â§öÂä°ÂæóÔºå‰æøÈùûÂ•Ω‰∫ãÔºåÂΩì‰∏ãÊöÇ‰∏çÁêÜ‰ºö„ÄÇ\\n\\nÂç∑Âà∞Âç∑ËΩ¥Êú´Á´ØÔºåÂèàËßÅÂà∞‰∫Ü‚ÄúÂáåÊ≥¢ÂæÆÊ≠•‚ÄùÈÇ£ÂõõÂ≠óÔºåÁôªÊó∂‰æøÊÉ≥Ëµ∑„ÄäÊ¥õÁ•ûËµã„Äã‰∏≠ÈÇ£‰∫õÂè•Â≠êÊù•Ôºö‚ÄúÂáåÊ≥¢ÂæÆÊ≠•ÔºåÁΩóË¢úÁîüÂ∞ò‚Ä¶‚Ä¶ËΩ¨ÁúÑÊµÅÁ≤æÔºåÂÖâÊ∂¶ÁéâÈ¢ú„ÄÇÂê´ËæûÊú™ÂêêÔºåÊ∞îËã•ÂπΩÂÖ∞„ÄÇÂçéÂÆπÂ©ÄÂ®úÔºå‰ª§ÊàëÂøòÈ§ê„ÄÇ‚ÄùÊõπÂ≠êÂª∫ÈÇ£‰∫õÂçÉÂè§ÂêçÂè•ÔºåÂú®ËÑëÊµ∑‰∏≠ÁºìÁºìÊµÅËøáÔºö‚ÄúÁßæÁ∫§ÂæóË°∑Ôºå‰øÆÁü≠ÂêàÂ∫¶ÔºåËÇ©Ëã•ÂâäÊàêÔºåËÖ∞Â¶ÇÁ∫¶Á¥†„ÄÇÂª∂È¢àÁßÄÈ°πÔºåÁöìË¥®ÂëàÈú≤„ÄÇËä≥Ê≥ΩÊó†Âä†ÔºåÈìÖÂçéÂºóÂæ°„ÄÇ‰∫ëÈ´ªÂ≥®Â≥®Ôºå‰øÆÁúâËøûÂ®ü„ÄÇ‰∏πÂîáÂ§ñÊúóÔºåÁöìÈΩøÂÜÖÈ≤ú„ÄÇÊòéÁú∏ÂñÑÁùêÔºåÈù•ËæÖÊâøÊùÉ„ÄÇÁë∞ÂßøËâ≥ÈÄ∏Ôºå‰ª™Èùô‰ΩìÈó≤„ÄÇÊüîÊÉÖÁª∞ÊÄÅÔºåÂ™ö‰∫éËØ≠Ë®Ä‚Ä¶‚Ä¶‚ÄùËøô‰∫õÂè•Â≠êÁî®Âú®Êú®Â©âÊ∏ÖË∫´‰∏äÔºå‚ÄúËøôËØùÂÄí‰πüÊúâÁêÜ‚ÄùÔºõ‰ΩÜÂ¶ÇÁî®‰πã‰∫éÁ•û‰ªôÂßäÂßäÔºåÂè™ÊÄïÊõ¥‰∏∫ÈÄÇÂêà„ÄÇÊÉ≥Âà∞Á•û‰ªôÂßäÂßäÁöÑÂßøÂÆπ‰ΩìÊÄÅÔºå‚ÄúÁöéËã•Â§™Èò≥ÂçáÊúùÈúûÔºåÁÅºËã•ËäôËìâÂá∫ÁªøÊ≥¢‚ÄùÔºå‰ΩÜËßâ‰æùÂ•πÂê©ÂíêË°å‰∫ãÔºåÂÆû‰∏∫‰∫∫ÁîüËá≥‰πêÔºåÂøÉÊÉ≥Ôºö‚ÄúÊàëÂÖàÊù•ÁªÉËøô‚ÄòÂáåÊ≥¢ÂæÆÊ≠•‚ÄôÔºåÊ≠§‰πÉÈÄÉÂëΩ‰πãÂ¶ôÊ≥ïÔºåÈùûÂÆ≥‰∫∫‰πãÊâãÊÆµ‰πüÔºåÁªÉ‰πãÊúâÁôæÂà©ËÄåÊó†‰∏ÄÂÆ≥„ÄÇ‚Äù', metadata={'source': '/data/zhx/zhx/langchain-ChatGLM_new/knowledge_base/Â§©ÈæôÂÖ´ÈÉ®/lingboweibu.txt'}), '5028230008472292907': Document(page_content='ÂçàÈ•≠ËøáÂêéÔºåÊÆµË™âÂèàÁªÉ‚ÄúÂáåÊ≥¢ÂæÆÊ≠•‚ÄùÔºåËµ∞‰∏ÄÊ≠•ÔºåÂê∏‰∏ÄÂè£Ê∞îÔºåËµ∞Á¨¨‰∫åÊ≠•Êó∂Â∞ÜÊ∞îÂëºÂá∫ÔºåÂÖ≠ÂçÅÂõõÂç¶Ëµ∞ÂÆåÔºåÂõõËÇ¢ÂÖ®Êó†È∫ªÁóπ‰πãÊÑüÔºåÊñôÊÉ≥ÂëºÂê∏È°∫ÁïÖÔºå‰æøÊó†ÂÆ≥Â§Ñ„ÄÇÁ¨¨‰∫åÊ¨°ÂÜçËµ∞Êó∂ËøûËµ∞‰∏§Ê≠•Âê∏‰∏ÄÂè£Ê∞îÔºåÂÜçËµ∞‰∏§Ê≠•ÂßãË°åÂëºÂá∫„ÄÇËøô‚ÄúÂáåÊ≥¢ÂæÆÊ≠•‚ÄùÊòØ‰ª•Âä®Âäü‰øÆ‰π†ÂÜÖÂäüÔºåËÑöÊ≠•Ë∏èÈÅçÂÖ≠ÂçÅÂõõÂç¶‰∏Ä‰∏™Âë®Â§©ÔºåÂÜÖÊÅØËá™ÁÑ∂ËÄåÁÑ∂Âú∞‰πüËΩ¨‰∫Ü‰∏Ä‰∏™Âë®Â§©„ÄÇÂõ†Ê≠§‰ªñÊØèËµ∞‰∏ÄÈÅçÔºåÂÜÖÂäõ‰æøÊúâ‰∏ÄÂàÜËøõÁõä„ÄÇ\\n\\nËøôËà¨ÁªÉ‰∫ÜÂá†Â§©Ôºå‚ÄúÂáåÊ≥¢ÂæÆÊ≠•‚ÄùÂ∑≤Ëµ∞ÂæóÈ¢á‰∏∫Á∫ØÁÜüÔºå‰∏çÈ°ªÂÜçÊï∞ÂëºÂê∏ÔºåÁ∫µÁÑ∂ÁñæË°åÔºåÊ∞îÊÅØ‰πüÂ∑≤Êó†ÊâÄÁ™íÊªû„ÄÇÂøÉÊÑèÊó¢ÁïÖÔºåË∑®Ê≠•Êó∂Ê∏êÊ∏êÊÉ≥Âà∞„ÄäÊ¥õÁ•ûËµã„Äã‰∏≠ÈÇ£‰∫õ‰∏é‚ÄúÂáåÊ≥¢ÂæÆÊ≠•‚ÄùÊúâÂÖ≥ÁöÑÂè•Â≠êÔºö‚Äú‰ªø‰ΩõÂÖÆËã•ËΩª‰∫ë‰πãËîΩÊúàÔºåÈ£òÈ£òÂÖÆËã•ÊµÅÈ£é‰πãÂõûÈõ™‚ÄùÔºå‚ÄúÁ´¶ËΩªË∫Ø‰ª•Èπ§Á´ãÔºåËã•Â∞ÜÈ£ûËÄåÊú™Áøî‚ÄùÔºå‚Äú‰ΩìËøÖÈ£ûÂá´ÔºåÈ£òÂøΩËã•Á•û‚ÄùÔºå‚ÄúÂä®Êó†Â∏∏ÂàôÔºåËã•Âç±Ëã•ÂÆâ„ÄÇËøõÊ≠¢ÈöæÊúüÔºåËã•ÂæÄËã•Ëøò‚Äù„ÄÇ\\n\\n\\n\\nÁôæÂ∫¶ÁÆÄ‰ªã\\n\\nÂáåÊ≥¢ÂæÆÊ≠•ÊòØ„ÄåÈÄçÈÅ•Ê¥æ„ÄçÁã¨Èó®ËΩªÂäüË∫´Ê≥ïÔºåÁ≤æÂ¶ôÂºÇÂ∏∏„ÄÇ\\n\\nÂáåÊ≥¢ÂæÆÊ≠•‰πÉÊòØ‰∏ÄÈó®ÊûÅ‰∏ä‰πòÁöÑËΩªÂäüÔºåÊâÄ‰ª•Âàó‰∫éÂç∑ËΩ¥‰πãÊú´Ôºå‰ª•ÊòìÁªèÂÖ´ÂÖ´ÂÖ≠ÂçÅÂõõÂç¶‰∏∫Âü∫Á°ÄÔºå‰ΩøÁî®ËÄÖÊåâÁâπÂÆöÈ°∫Â∫èË∏èÁùÄÂç¶Ë±°Êñπ‰ΩçË°åËøõÔºå‰ªéÁ¨¨‰∏ÄÊ≠•Âà∞ÊúÄÂêé‰∏ÄÊ≠•Ê≠£Â•ΩË°åËµ∞‰∏Ä‰∏™Â§ßÂúà„ÄÇÊ≠§Ê≠•Ê≥ïÁ≤æÂ¶ôÂºÇÂ∏∏ÔºåÂéüÊòØË¶ÅÂæÖ‰∫∫ÁªÉÊàê„ÄåÂåóÂÜ•Á•ûÂäü„ÄçÔºåÂê∏‰∫∫ÂÜÖÂäõÔºåËá™Ë∫´ÂÜÖÂäõÂ∑≤„ÄêÈ¢á‰∏∫Ê∑±Âéö„Äë‰πãÂêéÂÜçÁªÉ„ÄÇ', metadata={'source': '/data/zhx/zhx/langchain-ChatGLM_new/knowledge_base/Â§©ÈæôÂÖ´ÈÉ®/lingboweibu.txt'})}\n\nPrevious\nVald\nNext\nVectara"
}