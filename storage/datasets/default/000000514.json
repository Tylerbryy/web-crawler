{
	"title": "PromptLayer ChatOpenAI | ü¶úÔ∏èüîó Langchain",
	"url": "https://python.langchain.com/docs/integrations/chat/promptlayer_chatopenai",
	"html": "ComponentsChat modelsPromptLayer ChatOpenAI\nPromptLayer ChatOpenAI\n\nThis example showcases how to connect to PromptLayer to start recording your ChatOpenAI requests.\n\nInstall PromptLayer‚Äã\n\nThe promptlayer package is required to use PromptLayer with OpenAI. Install promptlayer using pip.\n\npip install promptlayer\n\nImports‚Äã\nimport os\n\nfrom langchain.chat_models import PromptLayerChatOpenAI\nfrom langchain.schema import HumanMessage\n\nSet the Environment API Key‚Äã\n\nYou can create a PromptLayer API Key at www.promptlayer.com by clicking the settings cog in the navbar.\n\nSet it as an environment variable called PROMPTLAYER_API_KEY.\n\nos.environ[\"PROMPTLAYER_API_KEY\"] = \"**********\"\n\nUse the PromptLayerOpenAI LLM like normal‚Äã\n\nYou can optionally pass in pl_tags to track your requests with PromptLayer's tagging feature.\n\nchat = PromptLayerChatOpenAI(pl_tags=[\"langchain\"])\nchat([HumanMessage(content=\"I am a cat and I want\")])\n\n    AIMessage(content='to take a nap in a cozy spot. I search around for a suitable place and finally settle on a soft cushion on the window sill. I curl up into a ball and close my eyes, relishing the warmth of the sun on my fur. As I drift off to sleep, I can hear the birds chirping outside and feel the gentle breeze blowing through the window. This is the life of a contented cat.', additional_kwargs={})\n\n\nThe above request should now appear on your PromptLayer dashboard.\n\nUsing PromptLayer Track‚Äã\n\nIf you would like to use any of the PromptLayer tracking features, you need to pass the argument return_pl_id when instantiating the PromptLayer LLM to get the request id.\n\nchat = PromptLayerChatOpenAI(return_pl_id=True)\nchat_results = chat.generate([[HumanMessage(content=\"I am a cat and I want\")]])\n\nfor res in chat_results.generations:\n    pl_request_id = res[0].generation_info[\"pl_request_id\"]\n    promptlayer.track.score(request_id=pl_request_id, score=100)\n\n\nUsing this allows you to track the performance of your model in the PromptLayer dashboard. If you are using a prompt template, you can attach a template to a request as well. Overall, this gives you the opportunity to track the performance of different templates and models in the PromptLayer dashboard.\n\nPrevious\nAliCloud PAI EAS\nNext\nTongyi Qwen"
}