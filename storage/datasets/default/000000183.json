{
	"title": "NetworkX Graph QA | 🦜️🔗 Langchain",
	"url": "https://python.langchain.com/docs/use_cases/graph/graph_networkx_qa",
	"html": "Graph queryingNetworkX Graph QA\nNetworkX Graph QA\n\nThis notebook goes over how to do question answering over a graph data structure.\n\nCreate the graph​\n\nIn this section, we construct an example graph. At the moment, this works best for small pieces of text.\n\nfrom langchain.indexes import GraphIndexCreator\nfrom langchain.llms import OpenAI\n\nindex_creator = GraphIndexCreator(llm=OpenAI(temperature=0))\n\nwith open(\"../../../modules/state_of_the_union.txt\") as f:\n    all_text = f.read()\n\n\nWe will use just a small snippet, because extracting the knowledge triplets is a bit intensive at the moment.\n\ntext = \"\\n\".join(all_text.split(\"\\n\\n\")[105:108])\n\ntext\n\n    'It won’t look like much, but if you stop and look closely, you’ll see a “Field of dreams,” the ground on which America’s future will be built. \\nThis is where Intel, the American company that helped build Silicon Valley, is going to build its $20 billion semiconductor “mega site”. \\nUp to eight state-of-the-art factories in one place. 10,000 new good-paying jobs. '\n\ngraph = index_creator.from_text(text)\n\n\nWe can inspect the created graph.\n\ngraph.get_triples()\n\n    [('Intel', '$20 billion semiconductor \"mega site\"', 'is going to build'),\n     ('Intel', 'state-of-the-art factories', 'is building'),\n     ('Intel', '10,000 new good-paying jobs', 'is creating'),\n     ('Intel', 'Silicon Valley', 'is helping build'),\n     ('Field of dreams',\n      \"America's future will be built\",\n      'is the ground on which')]\n\nQuerying the graph​\n\nWe can now use the graph QA chain to ask question of the graph\n\nfrom langchain.chains import GraphQAChain\n\nchain = GraphQAChain.from_llm(OpenAI(temperature=0), graph=graph, verbose=True)\n\nchain.run(\"what is Intel going to build?\")\n\n    \n    \n    > Entering new GraphQAChain chain...\n    Entities Extracted:\n     Intel\n    Full Context:\n    Intel is going to build $20 billion semiconductor \"mega site\"\n    Intel is building state-of-the-art factories\n    Intel is creating 10,000 new good-paying jobs\n    Intel is helping build Silicon Valley\n    \n    > Finished chain.\n\n\n\n\n\n    ' Intel is going to build a $20 billion semiconductor \"mega site\" with state-of-the-art factories, creating 10,000 new good-paying jobs and helping to build Silicon Valley.'\n\nSave the graph​\n\nWe can also save and load the graph.\n\ngraph.write_to_gml(\"graph.gml\")\n\nfrom langchain.indexes.graph import NetworkxEntityGraph\n\nloaded_graph = NetworkxEntityGraph.from_gml(\"graph.gml\")\n\nloaded_graph.get_triples()\n\n    [('Intel', '$20 billion semiconductor \"mega site\"', 'is going to build'),\n     ('Intel', 'state-of-the-art factories', 'is building'),\n     ('Intel', '10,000 new good-paying jobs', 'is creating'),\n     ('Intel', 'Silicon Valley', 'is helping build'),\n     ('Field of dreams',\n      \"America's future will be built\",\n      'is the ground on which')]\n\nPrevious\nNebulaGraphQAChain\nNext\nGraphSparqlQAChain"
}