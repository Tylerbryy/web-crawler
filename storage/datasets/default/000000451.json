{
	"title": "SEC filing | 🦜️🔗 Langchain",
	"url": "https://python.langchain.com/docs/integrations/retrievers/sec_filings",
	"html": "ComponentsRetrieversSEC filing\nSEC filing\n\nThe SEC filing is a financial statement or other formal document submitted to the U.S. Securities and Exchange Commission (SEC). Public companies, certain insiders, and broker-dealers are required to make regular SEC filings. Investors and financial professionals rely on these filings for information about companies they are evaluating for investment purposes.\n\nSEC filings data powered by Kay.ai and Cybersyn via Snowflake Marketplace.\n\nSetup​\n\nFirst, you will need to install the kay package. You will also need an API key: you can get one for free at https://kay.ai. Once you have an API key, you must set it as an environment variable KAY_API_KEY.\n\nIn this example, we're going to use the KayAiRetriever. Take a look at the kay notebook for more detailed information for the parameters that it accepts.`\n\n# Setup API keys for Kay and OpenAI\nfrom getpass import getpass\n\nKAY_API_KEY = getpass()\nOPENAI_API_KEY = getpass()\n\n     ········\n     ········\n\nimport os\n\nos.environ[\"KAY_API_KEY\"] = KAY_API_KEY\nos.environ[\"OPENAI_API_KEY\"] = OPENAI_API_KEY\n\nExample​\nfrom langchain.chains import ConversationalRetrievalChain\nfrom langchain.chat_models import ChatOpenAI\nfrom langchain.retrievers import KayAiRetriever\n\nmodel = ChatOpenAI(model_name=\"gpt-3.5-turbo\")\nretriever = KayAiRetriever.create(\n    dataset_id=\"company\", data_types=[\"10-K\", \"10-Q\"], num_contexts=6\n)\nqa = ConversationalRetrievalChain.from_llm(model, retriever=retriever)\n\nquestions = [\n    \"What are patterns in Nvidia's spend over the past three quarters?\",\n    # \"What are some recent challenges faced by the renewable energy sector?\",\n]\nchat_history = []\n\nfor question in questions:\n    result = qa({\"question\": question, \"chat_history\": chat_history})\n    chat_history.append((question, result[\"answer\"]))\n    print(f\"-> **Question**: {question} \\n\")\n    print(f\"**Answer**: {result['answer']} \\n\")\n\n    -> **Question**: What are patterns in Nvidia's spend over the past three quarters? \n    \n    **Answer**: Based on the provided information, here are the patterns in NVIDIA's spend over the past three quarters:\n    \n    1. Research and Development Expenses:\n       - Q3 2022: Increased by 34% compared to Q3 2021.\n       - Q1 2023: Increased by 40% compared to Q1 2022.\n       - Q2 2022: Increased by 25% compared to Q2 2021.\n       \n       Overall, research and development expenses have been consistently increasing over the past three quarters.\n    \n    2. Sales, General and Administrative Expenses:\n       - Q3 2022: Increased by 8% compared to Q3 2021.\n       - Q1 2023: Increased by 14% compared to Q1 2022.\n       - Q2 2022: Decreased by 16% compared to Q2 2021.\n       \n       The pattern for sales, general and administrative expenses is not as consistent, with some quarters showing an increase and others showing a decrease.\n    \n    3. Total Operating Expenses:\n       - Q3 2022: Increased by 25% compared to Q3 2021.\n       - Q1 2023: Increased by 113% compared to Q1 2022.\n       - Q2 2022: Increased by 9% compared to Q2 2021.\n       \n       Total operating expenses have generally been increasing over the past three quarters, with a significant increase in Q1 2023.\n    \n    Overall, the pattern indicates a consistent increase in research and development expenses and total operating expenses, while sales, general and administrative expenses show some fluctuations. \n    \n\nPrevious\nRePhraseQuery\nNext\nSelf-querying retriever"
}