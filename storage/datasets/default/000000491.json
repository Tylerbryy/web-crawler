{
	"title": "Use ToolKits with OpenAI Functions | ðŸ¦œï¸ðŸ”— Langchain",
	"url": "https://python.langchain.com/docs/modules/agents/how_to/use_toolkits_with_openai_functions",
	"html": "ModulesAgentsHow-toUse ToolKits with OpenAI Functions\nUse ToolKits with OpenAI Functions\n\nThis notebook shows how to use the OpenAI functions agent with arbitrary toolkits.\n\nfrom langchain.agents import AgentType, initialize_agent\nfrom langchain.agents.agent_toolkits import SQLDatabaseToolkit\nfrom langchain.chat_models import ChatOpenAI\nfrom langchain.schema import SystemMessage\nfrom langchain.utilities import SQLDatabase\n\n\nLoad the toolkit:\n\ndb = SQLDatabase.from_uri(\"sqlite:///../../../../../notebooks/Chinook.db\")\ntoolkit = SQLDatabaseToolkit(llm=ChatOpenAI(), db=db)\n\n\nSet a system message specific to that toolkit:\n\nagent_kwargs = {\n    \"system_message\": SystemMessage(content=\"You are an expert SQL data analyst.\")\n}\n\nllm = ChatOpenAI(temperature=0, model=\"gpt-3.5-turbo-0613\")\nagent = initialize_agent(\n    toolkit.get_tools(),\n    llm,\n    agent=AgentType.OPENAI_FUNCTIONS,\n    verbose=True,\n    agent_kwargs=agent_kwargs,\n)\n\nagent.run(\"how many different artists are there?\")\n\n    \n    \n    > Entering new  chain...\n    \n    Invoking: `sql_db_query` with `{'query': 'SELECT COUNT(DISTINCT artist_name) AS num_artists FROM artists'}`\n    \n    \n    Error: (sqlite3.OperationalError) no such table: artists\n    [SQL: SELECT COUNT(DISTINCT artist_name) AS num_artists FROM artists]\n    (Background on this error at: https://sqlalche.me/e/20/e3q8)\n    Invoking: `sql_db_list_tables` with `{}`\n    \n    \n    MediaType, Track, Playlist, sales_table, Customer, Genre, PlaylistTrack, Artist, Invoice, Album, InvoiceLine, Employee\n    Invoking: `sql_db_query` with `{'query': 'SELECT COUNT(DISTINCT artist_id) AS num_artists FROM Artist'}`\n    \n    \n    Error: (sqlite3.OperationalError) no such column: artist_id\n    [SQL: SELECT COUNT(DISTINCT artist_id) AS num_artists FROM Artist]\n    (Background on this error at: https://sqlalche.me/e/20/e3q8)\n    Invoking: `sql_db_query` with `{'query': 'SELECT COUNT(DISTINCT Name) AS num_artists FROM Artist'}`\n    \n    \n    [(275,)]There are 275 different artists in the database.\n    \n    > Finished chain.\n\n\n\n\n\n    'There are 275 different artists in the database.'\n\nPrevious\nStreaming final agent output\nNext\nTools"
}