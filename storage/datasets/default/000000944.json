{
	"title": "Composition | ü¶úÔ∏èüîó Langchain",
	"url": "https://python.langchain.com/docs/modules/model_io/prompts/prompt_templates/prompt_composition",
	"html": "ModulesModel I/OPromptsPrompt templatesComposition\nComposition\n\nThis notebook goes over how to compose multiple prompts together. This can be useful when you want to reuse parts of prompts. This can be done with a PipelinePrompt. A PipelinePrompt consists of two main parts:\n\nFinal prompt: The final prompt that is returned\nPipeline prompts: A list of tuples, consisting of a string name and a prompt template. Each prompt template will be formatted and then passed to future prompt templates as a variable with the same name.\nfrom langchain.prompts.pipeline import PipelinePromptTemplate\nfrom langchain.prompts.prompt import PromptTemplate\n\nfull_template = \"\"\"{introduction}\n\n{example}\n\n{start}\"\"\"\nfull_prompt = PromptTemplate.from_template(full_template)\n\nintroduction_template = \"\"\"You are impersonating {person}.\"\"\"\nintroduction_prompt = PromptTemplate.from_template(introduction_template)\n\nexample_template = \"\"\"Here's an example of an interaction:\n\nQ: {example_q}\nA: {example_a}\"\"\"\nexample_prompt = PromptTemplate.from_template(example_template)\n\nstart_template = \"\"\"Now, do this for real!\n\nQ: {input}\nA:\"\"\"\nstart_prompt = PromptTemplate.from_template(start_template)\n\ninput_prompts = [\n    (\"introduction\", introduction_prompt),\n    (\"example\", example_prompt),\n    (\"start\", start_prompt)\n]\npipeline_prompt = PipelinePromptTemplate(final_prompt=full_prompt, pipeline_prompts=input_prompts)\n\npipeline_prompt.input_variables\n\n    ['example_a', 'person', 'example_q', 'input']\n\nprint(pipeline_prompt.format(\n    person=\"Elon Musk\",\n    example_q=\"What's your favorite car?\",\n    example_a=\"Tesla\",\n    input=\"What's your favorite social media site?\"\n))\n\n    You are impersonating Elon Musk.\n    Here's an example of an interaction:\n\n    Q: What's your favorite car?\n    A: Tesla\n    Now, do this for real!\n\n    Q: What's your favorite social media site?\n    A:\n\n\nPrevious\nPartial prompt templates\nNext\nSerialization"
}