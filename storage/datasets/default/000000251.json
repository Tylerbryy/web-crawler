{
	"title": "Google BigQuery | ü¶úÔ∏èüîó Langchain",
	"url": "https://python.langchain.com/docs/integrations/document_loaders/google_bigquery",
	"html": "ComponentsDocument loadersGoogle BigQuery\nGoogle BigQuery\n\nGoogle BigQuery is a serverless and cost-effective enterprise data warehouse that works across clouds and scales with your data. BigQuery is a part of the Google Cloud Platform.\n\nLoad a BigQuery query with one document per row.\n\n#!pip install google-cloud-bigquery\n\nfrom langchain.document_loaders import BigQueryLoader\n\nBASE_QUERY = \"\"\"\nSELECT\n  id,\n  dna_sequence,\n  organism\nFROM (\n  SELECT\n    ARRAY (\n    SELECT\n      AS STRUCT 1 AS id, \"ATTCGA\" AS dna_sequence, \"Lokiarchaeum sp. (strain GC14_75).\" AS organism\n    UNION ALL\n    SELECT\n      AS STRUCT 2 AS id, \"AGGCGA\" AS dna_sequence, \"Heimdallarchaeota archaeon (strain LC_2).\" AS organism\n    UNION ALL\n    SELECT\n      AS STRUCT 3 AS id, \"TCCGGA\" AS dna_sequence, \"Acidianus hospitalis (strain W1).\" AS organism) AS new_array),\n  UNNEST(new_array)\n\"\"\"\n\nBasic Usage‚Äã\nloader = BigQueryLoader(BASE_QUERY)\n\ndata = loader.load()\n\nprint(data)\n\n    [Document(page_content='id: 1\\ndna_sequence: ATTCGA\\norganism: Lokiarchaeum sp. (strain GC14_75).', lookup_str='', metadata={}, lookup_index=0), Document(page_content='id: 2\\ndna_sequence: AGGCGA\\norganism: Heimdallarchaeota archaeon (strain LC_2).', lookup_str='', metadata={}, lookup_index=0), Document(page_content='id: 3\\ndna_sequence: TCCGGA\\norganism: Acidianus hospitalis (strain W1).', lookup_str='', metadata={}, lookup_index=0)]\n\nSpecifying Which Columns are Content vs Metadata‚Äã\nloader = BigQueryLoader(\n    BASE_QUERY,\n    page_content_columns=[\"dna_sequence\", \"organism\"],\n    metadata_columns=[\"id\"],\n)\n\ndata = loader.load()\n\nprint(data)\n\n    [Document(page_content='dna_sequence: ATTCGA\\norganism: Lokiarchaeum sp. (strain GC14_75).', lookup_str='', metadata={'id': 1}, lookup_index=0), Document(page_content='dna_sequence: AGGCGA\\norganism: Heimdallarchaeota archaeon (strain LC_2).', lookup_str='', metadata={'id': 2}, lookup_index=0), Document(page_content='dna_sequence: TCCGGA\\norganism: Acidianus hospitalis (strain W1).', lookup_str='', metadata={'id': 3}, lookup_index=0)]\n\nAdding Source to Metadata‚Äã\n# Note that the `id` column is being returned twice, with one instance aliased as `source`\nALIASED_QUERY = \"\"\"\nSELECT\n  id,\n  dna_sequence,\n  organism,\n  id as source\nFROM (\n  SELECT\n    ARRAY (\n    SELECT\n      AS STRUCT 1 AS id, \"ATTCGA\" AS dna_sequence, \"Lokiarchaeum sp. (strain GC14_75).\" AS organism\n    UNION ALL\n    SELECT\n      AS STRUCT 2 AS id, \"AGGCGA\" AS dna_sequence, \"Heimdallarchaeota archaeon (strain LC_2).\" AS organism\n    UNION ALL\n    SELECT\n      AS STRUCT 3 AS id, \"TCCGGA\" AS dna_sequence, \"Acidianus hospitalis (strain W1).\" AS organism) AS new_array),\n  UNNEST(new_array)\n\"\"\"\n\nloader = BigQueryLoader(ALIASED_QUERY, metadata_columns=[\"source\"])\n\ndata = loader.load()\n\nprint(data)\n\n    [Document(page_content='id: 1\\ndna_sequence: ATTCGA\\norganism: Lokiarchaeum sp. (strain GC14_75).\\nsource: 1', lookup_str='', metadata={'source': 1}, lookup_index=0), Document(page_content='id: 2\\ndna_sequence: AGGCGA\\norganism: Heimdallarchaeota archaeon (strain LC_2).\\nsource: 2', lookup_str='', metadata={'source': 2}, lookup_index=0), Document(page_content='id: 3\\ndna_sequence: TCCGGA\\norganism: Acidianus hospitalis (strain W1).\\nsource: 3', lookup_str='', metadata={'source': 3}, lookup_index=0)]\n\nPrevious\nGitHub\nNext\nGoogle Cloud Storage Directory"
}